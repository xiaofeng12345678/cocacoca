var requirejs,require,define;
(function(ba){function J(b){return"[object Function]"===N.call(b)
}function K(b){return"[object Array]"===N.call(b)
}function z(b,c){if(b){var d;
for(d=0;
d<b.length&&(!b[d]||!c(b[d],d,b));
d+=1){}}}function O(b,c){if(b){var d;
for(d=b.length-1;
-1<d&&(!b[d]||!c(b[d],d,b));
d-=1){}}}function t(b,c){return ha.call(b,c)
}function m(b,c){return t(b,c)&&b[c]
}function H(b,c){for(var d in b){if(t(b,d)&&c(b[d],d)){break
}}}function S(b,c,d,m){c&&H(c,function(c,l){if(d||!t(b,l)){m&&"string"!==typeof c?(b[l]||(b[l]={}),S(b[l],c,d,m)):b[l]=c
}});
return b
}function v(b,c){return function(){return c.apply(b,arguments)
}
}function ca(b){throw b
}function da(b){if(!b){return b
}var c=ba;
z(b.split("."),function(b){c=c[b]
});
return c
}function B(b,c,d,m){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+b);
c.requireType=b;
c.requireModules=m;
d&&(c.originalError=d);
return c
}function ia(b){function c(a,f,C){var e,n,b,c,d,T,k,g=f&&f.split("/");
e=g;
var l=j.map,h=l&&l["*"];
if(a&&"."===a.charAt(0)){if(f){e=m(j.pkgs,f)?g=[f]:g.slice(0,g.length-1);
f=a=e.concat(a.split("/"));
for(e=0;
f[e];
e+=1){if(n=f[e],"."===n){f.splice(e,1),e-=1
}else{if(".."===n){if(1===e&&(".."===f[2]||".."===f[0])){break
}else{0<e&&(f.splice(e-1,2),e-=2)
}}}}e=m(j.pkgs,f=a[0]);
a=a.join("/");
e&&a===f+"/"+e.main&&(a=f)
}else{0===a.indexOf("./")&&(a=a.substring(2))
}}if(C&&l&&(g||h)){f=a.split("/");
for(e=f.length;
0<e;
e-=1){b=f.slice(0,e).join("/");
if(g){for(n=g.length;
0<n;
n-=1){if(C=m(l,g.slice(0,n).join("/"))){if(C=m(C,b)){c=C;
d=e;
break
}}}}if(c){break
}!T&&(h&&m(h,b))&&(T=m(h,b),k=e)
}!c&&T&&(c=T,d=k);
c&&(f.splice(0,d,c),a=f.join("/"))
}return a
}function d(a){A&&z(document.getElementsByTagName("script"),function(f){if(f.getAttribute("data-requiremodule")===a&&f.getAttribute("data-requirecontext")===k.contextName){return f.parentNode.removeChild(f),!0
}})
}function p(a){var f=m(j.paths,a);
if(f&&K(f)&&1<f.length){return d(a),f.shift(),k.require.undef(a),k.require([a]),!0
}}function g(a){var f,b=a?a.indexOf("!"):-1;
-1<b&&(f=a.substring(0,b),a=a.substring(b+1,a.length));
return[f,a]
}function l(a,f,b,e){var n,D,i=null,d=f?f.name:null,l=a,h=!0,j="";
a||(h=!1,a="_@r"+(N+=1));
a=g(a);
i=a[0];
a=a[1];
i&&(i=c(i,d,e),D=m(r,i));
a&&(i?j=D&&D.normalize?D.normalize(a,function(a){return c(a,d,e)
}):c(a,d,e):(j=c(a,d,e),a=g(j),i=a[0],j=a[1],b=!0,n=k.nameToUrl(j)));
b=i&&!D&&!b?"_unnormalized"+(O+=1):"";
return{prefix:i,name:j,parentMap:f,unnormalized:!!b,url:n,originalName:l,isDefine:h,id:(i?i+"!"+j:j)+b}
}function s(a){var f=a.id,b=m(q,f);
b||(b=q[f]=new k.Module(a));
return b
}function u(a,f,b){var e=a.id,n=m(q,e);
if(t(r,e)&&(!n||n.defineEmitComplete)){"defined"===f&&b(r[e])
}else{if(n=s(a),n.error&&"error"===f){b(n.error)
}else{n.on(f,b)
}}}function w(a,f){var b=a.requireModules,e=!1;
if(f){f(a)
}else{if(z(b,function(f){if(f=m(q,f)){f.error=a,f.events.error&&(e=!0,f.emit("error",a))
}}),!e){h.onError(a)
}}}function x(){U.length&&(ja.apply(I,[I.length-1,0].concat(U)),U=[])
}function y(a){delete q[a];
delete W[a]
}function G(a,f,b){var e=a.map.id;
a.error?a.emit("error",a.error):(f[e]=!0,z(a.depMaps,function(e,c){var d=e.id,g=m(q,d);
g&&(!a.depMatched[c]&&!b[d])&&(m(f,d)?(a.defineDep(c,r[d]),a.check()):G(g,f,b))
}),b[e]=!0)
}function E(){var a,f,b,e,n=(b=1000*j.waitSeconds)&&k.startTime+b<(new Date).getTime(),c=[],i=[],g=!1,l=!0;
if(!X){X=!0;
H(W,function(b){a=b.map;
f=a.id;
if(b.enabled&&(a.isDefine||i.push(b),!b.error)){if(!b.inited&&n){p(f)?g=e=!0:(c.push(f),d(f))
}else{if(!b.inited&&(b.fetched&&a.isDefine)&&(g=!0,!a.prefix)){return l=!1
}}}});
if(n&&c.length){return b=B("timeout","Load timeout for modules: "+c,null,c),b.contextName=k.contextName,w(b)
}l&&z(i,function(a){G(a,{},{})
});
if((!n||e)&&g){if((A||ea)&&!Y){Y=setTimeout(function(){Y=0;
E()
},50)
}}X=!1
}}function F(a){t(r,a[0])||s(l(a[0],null,!0)).init(a[1],a[2])
}function L(a){var a=a.currentTarget||a.srcElement,b=k.onScriptLoad;
a.detachEvent&&!Z?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);
b=k.onScriptError;
(!a.detachEvent||Z)&&a.removeEventListener("error",b,!1);
return{node:a,id:a&&a.getAttribute("data-requiremodule")}
}function M(){var a;
for(x();
I.length;
){a=I.shift();
if(null===a[0]){return w(B("mismatch","Mismatched anonymous define() module: "+a[a.length-1]))
}F(a)
}}var X,$,k,P,Y,j={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},q={},W={},aa={},I=[],r={},V={},N=1,O=1;
P={require:function(a){return a.require?a.require:a.require=k.makeRequire(a.map)
},exports:function(a){a.usingExports=!0;
if(a.map.isDefine){return a.exports?a.exports:a.exports=r[a.map.id]={}
}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){var b=m(j.pkgs,a.map.id);
return(b?m(j.config,a.map.id+"/"+b.main):m(j.config,a.map.id))||{}
},exports:r[a.map.id]}
}};
$=function(a){this.events=m(aa,a.id)||{};
this.map=a;
this.shim=m(j.shim,a.id);
this.depExports=[];
this.depMaps=[];
this.depMatched=[];
this.pluginMaps={};
this.depCount=0
};
$.prototype={init:function(a,b,c,e){e=e||{};
if(!this.inited){this.factory=b;
if(c){this.on("error",c)
}else{this.events.error&&(c=v(this,function(a){this.emit("error",a)
}))
}this.depMaps=a&&a.slice(0);
this.errback=c;
this.inited=!0;
this.ignore=e.ignore;
e.enabled||this.enabled?this.enable():this.check()
}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)
},fetch:function(){if(!this.fetched){this.fetched=!0;
k.startTime=(new Date).getTime();
var a=this.map;
if(this.shim){k.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],v(this,function(){return a.prefix?this.callPlugin():this.load()
}))
}else{return a.prefix?this.callPlugin():this.load()
}}},load:function(){var a=this.map.url;
V[a]||(V[a]=!0,k.load(this.map.id,a))
},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;
b=this.depExports;
var e=this.exports,n=this.factory;
if(this.inited){if(this.error){this.emit("error",this.error)
}else{if(!this.defining){this.defining=!0;
if(1>this.depCount&&!this.defined){if(J(n)){if(this.events.error&&this.map.isDefine||h.onError!==ca){try{e=k.execCb(c,n,b,e)
}catch(d){a=d
}}else{e=k.execCb(c,n,b,e)
}this.map.isDefine&&((b=this.module)&&void 0!==b.exports&&b.exports!==this.exports?e=b.exports:void 0===e&&this.usingExports&&(e=this.exports));
if(a){return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",w(this.error=a)
}}else{e=n
}this.exports=e;
if(this.map.isDefine&&!this.ignore&&(r[c]=e,h.onResourceLoad)){h.onResourceLoad(k,this.map,this.depMaps)
}y(c);
this.defined=!0
}this.defining=!1;
this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)
}}}else{this.fetch()
}}},callPlugin:function(){var a=this.map,b=a.id,d=l(a.prefix);
this.depMaps.push(d);
u(d,"defined",v(this,function(e){var n,d;
d=this.map.name;
var g=this.map.parentMap?this.map.parentMap.name:null,C=k.makeRequire(a.parentMap,{enableBuildCallback:!0});
if(this.map.unnormalized){if(e.normalize&&(d=e.normalize(d,function(a){return c(a,g,!0)
})||""),e=l(a.prefix+"!"+d,this.map.parentMap),u(e,"defined",v(this,function(a){this.init([],function(){return a
},null,{enabled:!0,ignore:!0})
})),d=m(q,e.id)){this.depMaps.push(e);
if(this.events.error){d.on("error",v(this,function(a){this.emit("error",a)
}))
}d.enable()
}}else{n=v(this,function(a){this.init([],function(){return a
},null,{enabled:!0})
}),n.error=v(this,function(a){this.inited=!0;
this.error=a;
a.requireModules=[b];
H(q,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&y(a.map.id)
});
w(a)
}),n.fromText=v(this,function(e,c){var d=a.name,g=l(d),i=Q;
c&&(e=c);
i&&(Q=!1);
s(g);
t(j.config,b)&&(j.config[d]=j.config[b]);
try{h.exec(e)
}catch(D){return w(B("fromtexteval","fromText eval for "+b+" failed: "+D,D,[b]))
}i&&(Q=!0);
this.depMaps.push(g);
k.completeLoad(d);
C([d],n)
}),e.load(a.name,C,n,j)
}}));
k.enable(d,this);
this.pluginMaps[d.id]=d
},enable:function(){W[this.map.id]=this;
this.enabling=this.enabled=!0;
z(this.depMaps,v(this,function(a,b){var c,e;
if("string"===typeof a){a=l(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);
this.depMaps[b]=a;
if(c=m(P,a.id)){this.depExports[b]=c(this);
return
}this.depCount+=1;
u(a,"defined",v(this,function(a){this.defineDep(b,a);
this.check()
}));
this.errback&&u(a,"error",v(this,this.errback))
}c=a.id;
e=q[c];
!t(P,c)&&(e&&!e.enabled)&&k.enable(a,this)
}));
H(this.pluginMaps,v(this,function(a){var b=m(q,a.id);
b&&!b.enabled&&k.enable(a,this)
}));
this.enabling=!1;
this.check()
},on:function(a,b){var c=this.events[a];
c||(c=this.events[a]=[]);
c.push(b)
},emit:function(a,b){z(this.events[a],function(a){a(b)
});
"error"===a&&delete this.events[a]
}};
k={config:j,contextName:b,registry:q,defined:r,urlFetched:V,defQueue:I,Module:$,makeModuleMap:l,nextTick:h.nextTick,onError:w,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");
var b=j.pkgs,c=j.shim,e={paths:!0,config:!0,map:!0};
H(a,function(a,b){e[b]?"map"===b?(j.map||(j.map={}),S(j[b],a,!0,!0)):S(j[b],a,!0):j[b]=a
});
a.shim&&(H(a.shim,function(a,b){K(a)&&(a={deps:a});
if((a.exports||a.init)&&!a.exportsFn){a.exportsFn=k.makeShimExports(a)
}c[b]=a
}),j.shim=c);
a.packages&&(z(a.packages,function(a){a="string"===typeof a?{name:a}:a;
b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ka,"").replace(fa,"")}
}),j.pkgs=b);
H(q,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=l(b))
});
if(a.deps||a.callback){k.require(a.deps||[],a.callback)
}},makeShimExports:function(a){return function(){var b;
a.init&&(b=a.init.apply(ba,arguments));
return b||a.exports&&da(a.exports)
}
},makeRequire:function(a,f){function d(e,c,g){var i,j;
f.enableBuildCallback&&(c&&J(c))&&(c.__requireJsBuild=!0);
if("string"===typeof e){if(J(c)){return w(B("requireargs","Invalid require call"),g)
}if(a&&t(P,e)){return P[e](q[a.id])
}if(h.get){return h.get(k,e,a,d)
}i=l(e,a,!1,!0);
i=i.id;
return !t(r,i)?w(B("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+b+(a?"":". Use require([])"))):r[i]
}M();
k.nextTick(function(){M();
j=s(l(null,a));
j.skipMap=f.skipMap;
j.init(e,c,g,{enabled:!0});
E()
});
return d
}f=f||{};
S(d,{isBrowser:A,toUrl:function(b){var d,f=b.lastIndexOf("."),g=b.split("/")[0];
if(-1!==f&&(!("."===g||".."===g)||1<f)){d=b.substring(f,b.length),b=b.substring(0,f)
}return k.nameToUrl(c(b,a&&a.id,!0),d,!0)
},defined:function(b){return t(r,l(b,a,!1,!0).id)
},specified:function(b){b=l(b,a,!1,!0).id;
return t(r,b)||t(q,b)
}});
a||(d.undef=function(b){x();
var c=l(b,a,!0),d=m(q,b);
delete r[b];
delete V[c.url];
delete aa[b];
d&&(d.events.defined&&(aa[b]=d.events),y(b))
});
return d
},enable:function(a){m(q,a.id)&&s(a).enable()
},completeLoad:function(a){var b,c,e=m(j.shim,a)||{},d=e.exports;
for(x();
I.length;
){c=I.shift();
if(null===c[0]){c[0]=a;
if(b){break
}b=!0
}else{c[0]===a&&(b=!0)
}F(c)
}c=m(q,a);
if(!b&&!t(r,a)&&c&&!c.inited){if(j.enforceDefine&&(!d||!da(d))){return p(a)?void 0:w(B("nodefine","No define call for "+a,null,[a]))
}F([a,e.deps||[],e.exportsFn])
}E()
},nameToUrl:function(a,b,c){var d,g,l,i,k,p;
if(h.jsExtRegExp.test(a)){i=a+(b||"")
}else{d=j.paths;
g=j.pkgs;
i=a.split("/");
for(k=i.length;
0<k;
k-=1){if(p=i.slice(0,k).join("/"),l=m(g,p),p=m(d,p)){K(p)&&(p=p[0]);
i.splice(0,k,p);
break
}else{if(l){a=a===l.name?l.location+"/"+l.main:l.location;
i.splice(0,k,a);
break
}}}i=i.join("/");
i+=b||(/\?/.test(i)||c?"":".js");
i=("/"===i.charAt(0)||i.match(/^[\w\+\.\-]+:/)?"":j.baseUrl)+i
}return j.urlArgs?i+((-1===i.indexOf("?")?"?":"&")+j.urlArgs):i
},load:function(a,b){h.load(k,a,b)
},execCb:function(a,b,c,d){return b.apply(d,c)
},onScriptLoad:function(a){if("load"===a.type||la.test((a.currentTarget||a.srcElement).readyState)){R=null,a=L(a),k.completeLoad(a.id)
}},onScriptError:function(a){var b=L(a);
if(!p(b.id)){return w(B("scripterror","Script error for: "+b.id,a,[b.id]))
}}};
k.require=k.makeRequire();
return k
}var h,x,y,E,L,F,R,M,s,ga,ma=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,na=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,fa=/\.js$/,ka=/^\.\//;
x=Object.prototype;
var N=x.toString,ha=x.hasOwnProperty,ja=Array.prototype.splice,A=!!("undefined"!==typeof window&&navigator&&window.document),ea=!A&&"undefined"!==typeof importScripts,la=A&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Z="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),G={},u={},U=[],Q=!1;
if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(J(requirejs)){return
}u=requirejs;
requirejs=void 0
}"undefined"!==typeof require&&!J(require)&&(u=require,require=void 0);
h=requirejs=function(b,c,d,p){var g,l="_";
!K(b)&&"string"!==typeof b&&(g=b,K(c)?(b=c,c=d,d=p):b=[]);
g&&g.context&&(l=g.context);
(p=m(G,l))||(p=G[l]=h.s.newContext(l));
g&&p.configure(g);
return p.require(b,c,d)
};
h.config=function(b){return h(b)
};
h.nextTick="undefined"!==typeof setTimeout?function(b){setTimeout(b,4)
}:function(b){b()
};
require||(require=h);
h.version="2.1.6";
h.jsExtRegExp=/^\/|:|\?|\.js$/;
h.isBrowser=A;
x=h.s={contexts:G,newContext:ia};
h({});
z(["toUrl","undef","defined","specified"],function(b){h[b]=function(){var c=G._;
return c.require[b].apply(c,arguments)
}
});
if(A&&(y=x.head=document.getElementsByTagName("head")[0],E=document.getElementsByTagName("base")[0])){y=x.head=E.parentNode
}h.onError=ca;
h.load=function(b,c,d){var h=b&&b.config||{},g;
if(A){return g=h.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),g.type=h.scriptType||"text/javascript",g.charset="utf-8",g.async=!0,g.setAttribute("data-requirecontext",b.contextName),g.setAttribute("data-requiremodule",c),g.attachEvent&&!(g.attachEvent.toString&&0>g.attachEvent.toString().indexOf("[native code"))&&!Z?(Q=!0,g.attachEvent("onreadystatechange",b.onScriptLoad)):(g.addEventListener("load",b.onScriptLoad,!1),g.addEventListener("error",b.onScriptError,!1)),g.src=d,M=g,E?y.insertBefore(g,E):y.appendChild(g),M=null,g
}if(ea){try{importScripts(d),b.completeLoad(c)
}catch(l){b.onError(B("importscripts","importScripts failed for "+c+" at "+d,l,[c]))
}}};
A&&O(document.getElementsByTagName("script"),function(b){y||(y=b.parentNode);
if(L=b.getAttribute("data-main")){return s=L,u.baseUrl||(F=s.split("/"),s=F.pop(),ga=F.length?F.join("/")+"/":"./",u.baseUrl=ga),s=s.replace(fa,""),h.jsExtRegExp.test(s)&&(s=L),u.deps=u.deps?u.deps.concat(s):[s],!0
}});
define=function(b,c,d){var h,g;
"string"!==typeof b&&(d=c,c=b,b=null);
K(c)||(d=c,c=null);
!c&&J(d)&&(c=[],d.length&&(d.toString().replace(ma,"").replace(na,function(b,d){c.push(d)
}),c=(1===d.length?["require"]:["require","exports","module"]).concat(c)));
if(Q){if(!(h=M)){R&&"interactive"===R.readyState||O(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState){return R=b
}}),h=R
}h&&(b||(b=h.getAttribute("data-requiremodule")),g=G[h.getAttribute("data-requirecontext")])
}(g?g.defQueue:U).push([b,c,d])
};
define.amd={jQuery:!0};
h.exec=function(b){return eval(b)
};
h(u)
}})(this);
if(typeof jQuery!=="undefined"){(function(f){var g=/(?:^|\W)\w*$/;
var b=/(?:^\w+)(?=\W+)/;
var e=f.browser.msie?function(h,i){h.nodeValue=i
}:function(h,i){h.textContent=i
};
var d=function(q,l,t){var x=[];
var v=f("<div/>");
v.html(q);
var k=0;
var o=0;
var m=v.contents().detach();
var u=0;
for(u=m.size()-1;
u>=0;
--u){x.push({$parent:v,node:m.get(u)})
}while((x.length>0)&&(k<l)&&(o<100)){var h=x.pop();
var w=h.node;
var B=f(w);
var A=0;
var s;
if(w.nodeType===3){var y=h.$parent;
y.append(B);
s=B.text();
A=s.length;
if(A>l-k){var p=g.exec(s.substring(0,l-k));
var r=p.index+p[0].length;
e(w,s.substring(0,r));
if(typeof t!=="undefined"){if(!(y.is("a"))){y.append(t)
}else{y.parent().append(t)
}}k+=r;
break
}else{k+=A
}}else{s=B.text();
A=s.length;
if(A>l-k){var j=B.contents().detach();
var z=0;
for(z=j.size()-1;
z>=0;
--z){x.push({$parent:B,node:j.get(z)})
}}else{k+=A
}h.$parent.append(B)
}}return v.html()
};
var a=function(K,k,s){var I=null;
var j=function(i){if((k.debug===true)&&(typeof console!=="undefined")){console.log(i)
}};
var m=k.showText!==""?' <a class="show" href="#">'+k.showText+"</a>":"";
var J=k.hideText!==""?' <a class="hide" href="#">'+k.hideText+"</a>":"";
var w=k.maxLines*k.lineHeight;
var B=w+k.allowedExtraLines*k.lineHeight;
var t=new Date();
var y=f("<div/>");
y.html(s);
if(typeof K.data("truncatePlugin")!=="undefined"||K.height()>B){var u=(k.contextParent===null||k.contextParent===K)?K:f(k.contextParent);
var q;
var C;
if(u.find(K).size()>0){var z=[];
var G=K;
var F=G.parent();
while(F.size()!==0&&!(F.find(u).size()>0)){z.unshift(G.index());
G=F;
F=F.parent()
}C=u.clone();
q=C;
var A;
for(A=0;
A<z.length;
A++){var n=z[A];
q=q.children().eq(n)
}q.html(s)
}else{q=K.clone();
q.html(s);
C=q
}C.css({position:"absolute",left:"-9999px",width:u.width()});
q.css({"line-height":k.lineHeight+"px"});
u.after(C);
var x=q.height();
if(x>B){var r=y.text();
var E=0;
var h=r.length;
var H=h;
var D;
var p=0;
do{if(q.height()>w){h=H
}else{E=H
}var v=Math.floor((h+E)/2);
H=g.exec(r.substring(0,v)).index;
if(H===E){var o=b.exec(r.substring(v,h));
if(o!==null){H=v+o.index+o[0].length
}}D=d(s,H,k.truncateString);
q.html(D+m);
p++
}while((p<k.maxSteps)&&(H>E));
C.remove();
if(k.collapsed===false){K.html(s+J)
}else{K.html(D+m)
}K.css({display:"block","line-height":k.lineHeight+"px"});
K.undelegate("truncate");
K.delegate(".show","click.truncate",function(i){i.preventDefault();
K.html(s+J);
K.css("height","auto");
K.trigger("show");
K.trigger("toggle");
if(k.tooltip===true){K.removeAttr("title")
}});
K.delegate(".hide","click.truncate",function(i){i.preventDefault();
K.html(D+m);
K.css("height",w+"px");
K.trigger("hide");
K.trigger("toggle");
if(k.tooltip===true){K.attr("title",r)
}});
if(k.tooltip===true){K.attr("title",r)
}j("truncate.js: truncated element with height "+x+"px > "+B+"px in "+p+" steps.");
I=H
}else{C.remove();
K.html(s);
if(k.tooltip===true){K.removeAttr("title")
}I=s.length
}}else{j("truncate.js: skipped processing element with height "+x+"px < "+B+"px");
I=s.length
}var l=new Date();
j("truncate.js: took "+(l-t)+"  ms to execute.");
return I
};
function c(i,h){this.defaults={maxLines:1,lineHeight:null,allowedExtraLines:0,truncateString:"",showText:"",hideText:"",collapsed:true,debug:false,contextParent:null,maxSteps:100,tooltip:false};
this.config=f.extend(this.defaults,h);
this.$el=f(i);
if(this.config.lineHeight===null){var j=parseInt(this.$el.css("line-height"),10);
if(typeof j==="number"&&!isNaN(j)){this.config.lineHeight=j
}else{console.log('No "lineHeight" parameter was specified and none could be calculated.')
}}this.html=this.$el.html();
this.lastTruncationPoint=null
}c.prototype={options:function(h){if(typeof h==="object"){this.config=f.extend(this.config,h);
return
}return this.config
},update:function(i){if(typeof i==="undefined"){var h=this.$el.html();
if(typeof this.lastHtmlLength!=="undefined"&&h.length!==this.lastHtmlLength){i=h.substring(0,this.lastTruncationPoint)+this.html.substring(this.lastTruncationPoint);
this.html=i
}}else{this.html=i
}this.lastTruncationPoint=a(this.$el,this.config,this.html);
this.lastHtmlLength=this.$el.html().length
}};
f.fn.truncate=function(j){var k=f(this);
if(typeof j==="undefined"||j===null||typeof j==="object"){k.each(function(){var m=f(this);
var l=new c(m,j);
m.data("truncatePlugin",l);
l.lastTruncationPoint=a(m,l.config,l.html);
l.lastHtmlLength=m.html().length
})
}var h;
var i=arguments;
if(typeof j==="string"){k.each(function(){var m=f(this).data("truncatePlugin");
if(typeof m[j]==="function"){var l=m[j].apply(m,Array.prototype.slice.call(i,1));
if(typeof h==="undefined"){h=l
}}})
}return typeof h!=="undefined"?h:this
}
})(jQuery)
}(function(a){function f(b){this.input=b;
b.attr("type")=="password"&&this.handlePassword();
a(b[0].form).submit(function(){if(b.hasClass("placeholder")&&b[0].value==b.attr("placeholder")){b[0].value=""
}})
}f.prototype={show:function(e){if(this.input[0].value===""||e&&this.valueIsPlaceholder()){if(this.isPassword){try{this.input[0].setAttribute("type","text")
}catch(d){this.input.before(this.fakePassword.show()).hide()
}}this.input.addClass("placeholder");
this.input[0].value=this.input.attr("placeholder")
}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")
}catch(b){}this.input.show();
this.input[0].focus()
}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")
},handlePassword:function(){var b=this.input;
b.attr("realType","password");
this.isPassword=!0;
if(a.browser.msie&&b[0].outerHTML){var d=a(b[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1"));
this.fakePassword=d.val(b.attr("placeholder")).addClass("placeholder").focus(function(){b.trigger("focus");
a(this).hide()
});
a(b[0].form).submit(function(){d.remove();
b.show()
})
}}};
var c=!!("placeholder" in document.createElement("input"));
a.fn.placeholder=function(){return c?this:this.each(function(){var b=a(this),d=new f(b);
d.show(!0);
b.focus(function(){d.hide()
});
b.blur(function(){d.show(!1)
});
a.browser.msie&&(a(window).load(function(){b.val()&&b.removeClass("placeholder");
d.show(!0)
}),b.focus(function(){if(this.value==""){var e=this.createTextRange();
e.collapse(!0);
e.moveStart("character",0);
e.select()
}}))
})
}
})(jQuery);
/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){a(jQuery)
}(function(f){var a=/\+/g;
function d(i){return b.raw?i:encodeURIComponent(i)
}function g(i){return b.raw?i:decodeURIComponent(i)
}function h(i){return d(b.json?JSON.stringify(i):String(i))
}function c(i){if(i.indexOf('"')===0){i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")
}try{i=decodeURIComponent(i.replace(a," "));
return b.json?JSON.parse(i):i
}catch(j){}}function e(j,i){var k=b.raw?j:c(j);
return f.isFunction(i)?i(k):k
}var b=f.cookie=function(q,p,v){if(p!==undefined&&!f.isFunction(p)){v=f.extend({},b.defaults,v);
if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();
u.setTime(+u+r*86400000)
}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))
}var w=q?undefined:{};
var s=document.cookie?document.cookie.split("; "):[];
for(var o=0,m=s.length;
o<m;
o++){var n=s[o].split("=");
var j=g(n.shift());
var k=n.join("=");
if(q&&q===j){w=e(k,p);
break
}if(!q&&(k=e(k))!==undefined){w[j]=k
}}return w
};
b.defaults={};
f.removeCookie=function(j,i){if(f.cookie(j)===undefined){return false
}f.cookie(j,"",f.extend({},i,{expires:-1}));
return !f.cookie(j)
}
}));
(function(){window.form2object=function(h,f){h=typeof h=="string"?document.getElementById(h):h;
f=f||".";
var n=b(h);
var s={};
var g={};
for(var m=0;
m<n.length;
m++){var o=n[m].value;
if(o===""){continue
}var e=n[m].name;
var l=e.split(f);
var p=s;
for(var k=0;
k<l.length;
k++){var q=l[k];
var d;
if(q.indexOf("[]")>-1&&k==l.length-1){d=q.substr(0,q.indexOf("["));
if(!p[d]){p[d]=[]
}p[d].push(o)
}else{if(q.indexOf("[")>-1){d=q.substr(0,q.indexOf("["));
var r=q.replace(/^[a-z]+\[|\]$/gi,"");
if(!g[d]){g[d]={}
}if(!p[d]){p[d]=[]
}if(k==l.length-1){p[d].push(o)
}else{if(!g[d][r]){p[d].push({});
g[d][r]=p[d][p[d].length-1]
}}p=g[d][r]
}else{if(k<l.length-1){if(!p[q]){p[q]={}
}p=p[q]
}else{p[q]=o
}}}}}return s
};
function b(f){var d=[];
var g=f.firstChild;
while(g){if(g.nodeName.match(/INPUT|SELECT|TEXTAREA/i)){d.push({name:g.name,value:a(g)})
}else{var e=b(g);
d=d.concat(e)
}g=g.nextSibling
}return d
}function a(d){if(d.nodeName=="INPUT"){if(d.type.toLowerCase()=="radio"||d.type.toLowerCase()=="checkbox"){if(d.checked){return d.value
}}else{if(!d.type.toLowerCase().match(/button|reset|submit|image/i)){return d.value
}}}else{if(d.nodeName=="TEXTAREA"){return d.innerHTML
}else{if(d.nodeName=="SELECT"){return c(d)
}}}return""
}function c(h){var e=h.multiple;
if(!e){return h.value
}var d=[];
for(var g=h.getElementsByTagName("option"),j=0,f=g.length;
j<f;
j++){if(g[j].selected){d.push(g[j].value)
}}return d
}window.form2json=window.form2object
})();
(function(b){if(!b.rsModules){b.rsModules={uid:0}
}function a(f,g){var x,s=this,y=navigator.userAgent.toLowerCase();
s.uid=b.rsModules.uid++;
s.ns=".rs"+s.uid;
var F=document.createElement("div").style,w=["webkit","Moz","ms","O"],z="",B=0,h;
for(x=0;
x<w.length;
x++){h=w[x];
if(!z&&(h+"Transform") in F){z=h
}h=h.toLowerCase();
if(!window.requestAnimationFrame){window.requestAnimationFrame=window[h+"RequestAnimationFrame"];
window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]
}}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(J,G){var i=new Date().getTime(),H=Math.max(0,16-(i-B)),I=window.setTimeout(function(){J(i+H)
},H);
B=i+H;
return I
}
}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(i){clearTimeout(i)
}
}s.isIPAD=y.match(/(ipad)/);
s.isIOS=s.isIPAD||y.match(/(iphone|ipod)/);
var A=function(G){var i=/(chrome)[ \/]([\w.]+)/.exec(G)||/(webkit)[ \/]([\w.]+)/.exec(G)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(G)||/(msie) ([\w.]+)/.exec(G)||G.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(G)||[];
return{browser:i[1]||"",version:i[2]||"0"}
};
var m=A(y);
var D={};
if(m.browser){D[m.browser]=true;
D.version=m.version
}if(D.chrome){D.webkit=true
}s._browser=D;
s.isAndroid=y.indexOf("android")>-1;
s.slider=b(f);
s.ev=b(s);
s._doc=b(document);
s.st=b.extend({},b.fn.royalSlider.defaults,g);
s._currAnimSpeed=s.st.transitionSpeed;
s._minPosOffset=0;
if(s.st.allowCSS3){if((!D.webkit||s.st.allowCSS3OnWebkit)){var r=z+(z?"T":"t");
s._useCSS3Transitions=((r+"ransform") in F)&&((r+"ransition") in F);
if(s._useCSS3Transitions){s._use3dTransform=(z+(z?"P":"p")+"erspective") in F
}}}z=z.toLowerCase();
s._vendorPref="-"+z+"-";
s._slidesHorizontal=(s.st.slidesOrientation==="vertical")?false:true;
s._reorderProp=s._slidesHorizontal?"left":"top";
s._sizeProp=s._slidesHorizontal?"width":"height";
s._prevNavItemId=-1;
s._isMove=(s.st.transitionType==="fade")?false:true;
if(!s._isMove){s.st.sliderDrag=false;
s._fadeZIndex=10
}s._opacityCSS="z-index:0; display:none; opacity:0;";
s._newSlideId=0;
s._sPosition=0;
s._nextSlidePos=0;
b.each(b.rsModules,function(G,i){if(G!=="uid"){i.call(s)
}});
s.slides=[];
s._idCount=0;
var u;
var c=s.st.slides?b(s.st.slides):s.slider.children().detach();
c.each(function(){s._parseNode(this,true)
});
if(s.st.randomizeSlides){s.slides.sort(function(){return 0.5-Math.random()
})
}s.numSlides=s.slides.length;
s._refreshNumPreloadImages();
if(!s.st.startSlideId){s.st.startSlideId=0
}else{if(s.st.startSlideId>s.numSlides-1){s.st.startSlideId=s.numSlides-1
}}s._newSlideId=s.staticSlideId=s.currSlideId=s._realId=s.st.startSlideId;
s.currSlide=s.slides[s.currSlideId];
s._accelerationPos=0;
s.msTouch=false;
s.slider.addClass((s._slidesHorizontal?"rsHor":"rsVer")+(s._isMove?"":" rsFade"));
var n='<div class="rsOverflow"><div class="rsContainer">';
s.slidesSpacing=s.st.slidesSpacing;
s._slideSize=(s._slidesHorizontal?s.slider.width():s.slider.height())+s.st.slidesSpacing;
s._preload=Boolean(s._numPreloadImages>0);
if(s.numSlides<=1){s._loop=false
}var v=(s._loop&&s._isMove)?(s.numSlides===2?1:2):0;
s._loopHelpers=v;
s._maxImages=s.numSlides<6?s.numSlides:6;
s._currBlockIndex=0;
s._idOffset=0;
s.slidesJQ=[];
for(x=0;
x<s.numSlides;
x++){s.slidesJQ.push(b(C(x)))
}s._sliderOverflow=n=b(n+"</div></div>");
var E=function(){if(s.st.sliderDrag){s._hasDrag=true;
if(D.msie||D.opera){s._grabCursor=s._grabbingCursor="move"
}else{if(D.mozilla){s._grabCursor="-moz-grab";
s._grabbingCursor="-moz-grabbing"
}else{if(D.webkit&&(navigator.platform.indexOf("Mac")!=-1)){s._grabCursor="-webkit-grab";
s._grabbingCursor="-webkit-grabbing"
}}}s._setGrabCursor()
}};
var l=s.ns;
var q=function(G,J,H,i,I){s._downEvent=G+J+l;
s._moveEvent=G+H+l;
s._upEvent=G+i+l;
if(I){s._cancelEvent=G+I+l
}};
s.msEnabled=window.navigator.PointerEnabled;
if(s.msEnabled){s.msTouch=Boolean(window.navigator.msMaxTouchPoints>1);
s.hasTouch=false;
s._lastItemFriction=0.2;
q("MSPointer","Down","Move","Up","Cancel")
}else{if(!s.isIOS){q("mouse","down","move","up","up")
}else{s._downEvent=s._moveEvent=s._upEvent=s._cancelEvent=""
}if("ontouchstart" in window||"createTouch" in document){s.hasTouch=true;
s._downEvent+=" touchstart"+l;
s._moveEvent+=" touchmove"+l;
s._upEvent+=" touchend"+l;
s._cancelEvent+=" touchcancel"+l;
s._lastItemFriction=0.5;
if(s.st.sliderTouch){s._hasDrag=true
}}else{s.hasTouch=false;
s._lastItemFriction=0.2
}}E();
s.slider.html(n);
s._controlsContainer=s.st.controlsInside?s._sliderOverflow:s.slider;
s._slidesContainer=s._sliderOverflow.children(".rsContainer");
if(s.msEnabled){s._slidesContainer.css("touch-action",s._slidesHorizontal?"pan-y":"pan-x")
}s._preloader=b('<div class="rsPreloader"></div>');
var t=s._slidesContainer.children(".rsSlide");
s._currHolder=s.slidesJQ[s.currSlideId];
s._selectedSlideHolder=0;
function C(G,H){return'<div style="'+(s._isMove?"":(G!==s.currSlideId?s._opacityCSS:"z-index:0;"))+'" class="rsSlide '+(H||"")+'"></div>'
}if(s._useCSS3Transitions){s._TP="transition-property";
s._TD="transition-duration";
s._TTF="transition-timing-function";
s._yProp=s._xProp=s._vendorPref+"transform";
if(s._use3dTransform){if(D.webkit&&!D.chrome){s.slider.addClass("rsWebkit3d")
}if((/iphone|ipad|ipod/gi).test(navigator.appVersion)){}s._tPref1="translate3d(";
s._tPref2="px, ";
s._tPref3="px, 0px)"
}else{s._tPref1="translate(";
s._tPref2="px, ";
s._tPref3="px)"
}if(!s._isMove){var d={};
d[(s._vendorPref+s._TP)]="opacity";
d[(s._vendorPref+s._TD)]=s.st.transitionSpeed+"ms";
d[(s._vendorPref+s._TTF)]=s.st.css3easeInOut;
t.css(d)
}else{s._slidesContainer[(s._vendorPref+s._TP)]=(s._vendorPref+"transform")
}}else{s._xProp="left";
s._yProp="top"
}var e;
b(window).on("resize"+s.ns,function(){if(e){clearTimeout(e)
}e=setTimeout(function(){s.updateSliderSize()
},50)
});
s.ev.trigger("rsAfterPropsSetup");
s.updateSliderSize();
if(s.st.keyboardNavEnabled){s._bindKeyboardNav()
}if(s.st.arrowsNavHideOnTouch&&(s.hasTouch||s.msTouch)){s.st.arrowsNav=false
}if(s.st.arrowsNav){var k="rsArrow",p=s._controlsContainer;
b('<div class="'+k+" "+k+'Left"><div class="'+k+'Icn"></div></div><div class="'+k+" "+k+'Right"><div class="'+k+'Icn"></div></div>').appendTo(p);
s._arrowLeft=p.children("."+k+"Left").click(function(i){i.preventDefault();
s.prev()
});
s._arrowRight=p.children("."+k+"Right").click(function(i){i.preventDefault();
s.next()
});
if(s.st.arrowsNavAutoHide&&!s.hasTouch){s._arrowLeft.addClass("rsHidden");
s._arrowRight.addClass("rsHidden");
var o=p;
o.one("mousemove.arrowshover",function(){s._arrowLeft.removeClass("rsHidden");
s._arrowRight.removeClass("rsHidden")
});
o.hover(function(){if(!s._arrowsAutoHideLocked){s._arrowLeft.removeClass("rsHidden");
s._arrowRight.removeClass("rsHidden")
}},function(){if(!s._arrowsAutoHideLocked){s._arrowLeft.addClass("rsHidden");
s._arrowRight.addClass("rsHidden")
}})
}s.ev.on("rsOnUpdateNav",function(){s._updateArrowsNav()
});
s._updateArrowsNav()
}if(s._hasDrag){s._slidesContainer.on(s._downEvent,function(i){s._onDragStart(i)
})
}else{s.dragSuccess=false
}var j=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];
s._slidesContainer.click(function(G){if(!s.dragSuccess){var i=b(G.target);
var H=i.attr("class");
if(b.inArray(H,j)!==-1){if(s.toggleVideo()){return false
}}if(s.st.navigateByClick&&!s._blockActions){if(b(G.target).closest(".rsNoDrag",s._currHolder).length){return true
}s._mouseNext(G)
}s.ev.trigger("rsSlideClick")
}}).on("click.rs","a",function(i){if(s.dragSuccess){return false
}else{s._blockActions=true;
setTimeout(function(){s._blockActions=false
},3)
}});
s.ev.trigger("rsAfterInit")
}a.prototype={constructor:a,_mouseNext:function(f){var c=this,d=f[c._slidesHorizontal?"pageX":"pageY"]-c._sliderOffset;
if(d>=c._nextSlidePos){c.next()
}else{if(d<0){c.prev()
}}},_refreshNumPreloadImages:function(){var c=this,d;
d=c.st.numImagesToPreload;
c._loop=c.st.loop;
if(c._loop){if(c.numSlides===2){c._loop=false;
c.st.loopRewind=true
}else{if(c.numSlides<2){c.st.loopRewind=c._loop=false
}}}if(c._loop&&d>0){if(c.numSlides<=4){d=1
}else{if(c.st.numImagesToPreload>(c.numSlides-1)/2){d=Math.floor((c.numSlides-1)/2)
}}}c._numPreloadImages=d
},_parseNode:function(h,c){var j=this,k,e,d,f={},l,g=true;
h=b(h);
j._currContent=h;
j.ev.trigger("rsBeforeParseNode",[h,f]);
if(f.stopParsing){return
}h=j._currContent;
f.id=j._idCount;
f.contentAdded=false;
j._idCount++;
f.images=[];
f.isBig=false;
if(!f.hasCover){if(h.hasClass("rsImg")){l=h;
k=true
}else{l=h.find(".rsImg");
if(l.length){k=true
}}if(k){f.bigImage=l.eq(0).attr("data-rsBigImg");
l.each(function(){var m=b(this);
if(m.is("a")){i(m,"href")
}else{if(m.is("img")){i(m,"src")
}else{i(m)
}}})
}else{if(h.is("img")){h.addClass("rsImg rsMainSlideImage");
i(h,"src")
}}}l=h.find(".rsCaption");
if(l.length){f.caption=l.remove()
}f.content=h;
j.ev.trigger("rsAfterParseNode",[h,f]);
function i(p,o){if(o){f.images.push(p.attr(o))
}else{f.images.push(p.text())
}if(g){g=false;
f.caption=(o==="src")?p.attr("alt"):p.contents();
f.image=f.images[0];
f.videoURL=p.attr("data-rsVideo");
var m=p.attr("data-rsw"),n=p.attr("data-rsh");
if(typeof m!=="undefined"&&m!==false&&typeof n!=="undefined"&&n!==false){f.iW=parseInt(m,10);
f.iH=parseInt(n,10)
}else{if(j.st.imgWidth&&j.st.imgHeight){f.iW=j.st.imgWidth;
f.iH=j.st.imgHeight
}}}}if(c){j.slides.push(f)
}if(f.images.length===0){f.isLoaded=true;
f.isRendered=false;
f.isLoading=false;
f.images=null
}return f
},_bindKeyboardNav:function(){var e=this,d,f,c=function(g){if(g===37){e.prev()
}else{if(g===39){e.next()
}}};
e._doc.on("keydown"+e.ns,function(g){if(!e._isDragging){f=g.keyCode;
if(f===37||f===39){if(!d){c(f);
d=setInterval(function(){c(f)
},700)
}}}}).on("keyup"+e.ns,function(g){if(d){clearInterval(d);
d=null
}})
},goTo:function(e,d){var c=this;
if(e!==c.currSlideId){c._moveTo(e,c.st.transitionSpeed,true,!d)
}},destroy:function(c){var d=this;
if(d.ev){d.ev.trigger("rsBeforeDestroy")
}d._doc.off("keydown"+d.ns+" keyup"+d.ns+" "+d._moveEvent+" "+d._upEvent);
d._slidesContainer.off(d._downEvent+" click");
if(d.slider){d.slider.data("royalSlider",null);
b.removeData(d.slider,"royalSlider")
}b(window).off("resize"+d.ns);
if(c){d.slider.remove()
}d.slides=null;
d.slider=null;
d.ev=null
},_updateBlocksContent:function(F,p){var r=this,y,w,t,C,l,m,x,A=r._loop,z=r.numSlides;
if(!isNaN(p)){return D(p)
}var s=r.currSlideId;
var h;
var q=F?(Math.abs(r._prevSlideId-r.currSlideId)>=r.numSlides-1?0:1):r._numPreloadImages;
var j=Math.min(2,q);
var c=false;
var B=false;
var o;
for(w=s;
w<s+1+j;
w++){o=D(w);
y=r.slides[o];
if(y&&(!y.isAdded||!y.positionSet)){c=true;
break
}}for(w=s-1;
w>s-1-j;
w--){o=D(w);
y=r.slides[o];
if(y&&(!y.isAdded||!y.positionSet)){B=true;
break
}}if(c){for(w=s;
w<s+q+1;
w++){o=D(w);
h=Math.floor((r._realId-(s-w))/r.numSlides)*r.numSlides;
y=r.slides[o];
if(y){e(y,o)
}}}if(B){for(w=s-1;
w>s-1-q;
w--){o=D(w);
h=Math.floor((r._realId-(s-w))/z)*z;
y=r.slides[o];
if(y){e(y,o)
}}}if(!F){var g=s;
var f=q;
var u=D(s-q);
var v=D(s+q);
var d=u>v?0:u;
for(w=0;
w<z;
w++){if(u>v){if(w>u-1){continue
}}if(w<d||w>v){y=r.slides[w];
if(y&&y.holder){y.holder.detach();
y.isAdded=false
}}}}function e(H,n,G){if(!H.isAdded){if(!G){G=r.slidesJQ[n]
}if(!H.holder){G=r.slidesJQ[n]=b(G);
H.holder=G
}else{G=H.holder
}H.appendOnLoaded=false;
k(n,H,G);
E(n,H);
r._addBlockToContainer(H,G,F);
H.isAdded=true
}else{E(n,H);
k(n,H)
}}function E(n,G){if(!G.contentAdded){r.setItemHtml(G,F);
if(!F){G.contentAdded=true
}}}function k(n,H,G){if(r._isMove){if(!G){G=r.slidesJQ[n]
}G.css(r._reorderProp,(n+r._idOffset+h)*r._slideSize)
}}function D(i){var n=false;
if(A){if(i>z-1){return D(i-z)
}else{if(i<0){return D(z+i)
}}}return i
}},setItemHtml:function(i,g){var m=this;
var e=function(){if(!i.images){i.isRendered=true;
i.isLoaded=true;
i.isLoading=false;
f(true);
return
}if(i.isLoading){return
}var q,n;
if(i.content.hasClass("rsImg")){q=i.content;
n=true
}else{q=i.content.find(".rsImg:not(img)")
}if(q&&!q.is("img")){q.each(function(){var u=b(this),v='<img class="rsImg" src="'+(u.is("a")?u.attr("href"):u.text())+'" />';
if(!n){u.replaceWith(v)
}else{i.content=b(v)
}})
}q=n?i.content:i.content.find("img.rsImg");
l();
q.eq(0).addClass("rsMainSlideImage");
if(i.iW&&i.iH){if(!i.isLoaded){m._resizeImage(i)
}f()
}i.isLoading=true;
var t;
var o="load.rs error.rs";
if(i.isBig){b("<img />").on(o,function(u){b(this).off(o);
k([this],true)
}).attr("src",i.image)
}else{i.loaded=[];
i.numStartedLoad=0;
var r=function(u){b(this).off(o);
i.loaded.push(this);
if(i.loaded.length===i.numStartedLoad){k(i.loaded,false)
}};
for(var p=0;
p<i.images.length;
p++){var s=b("<img />");
i.numStartedLoad++;
s.on("load.rs error.rs",r).attr("src",i.images[p])
}}};
var k=function(p,q){if(p.length){var o=p[0],r=o.src;
if(q!==i.isBig){var s=i.holder.children();
if(s&&s.length>1){h()
}return
}if(i.iW&&i.iH){j();
return
}i.iW=o.width;
i.iH=o.height;
if(i.iW&&i.iH){j();
return
}else{var n=new Image();
n.onload=function(){if(n.width){i.iW=n.width;
i.iH=n.height;
j()
}else{setTimeout(function(){if(n.width){i.iW=n.width;
i.iH=n.height
}j()
},1000)
}};
n.src=o.src
}}else{j()
}};
var j=function(){i.isLoaded=true;
i.isLoading=false;
f();
h();
c()
};
var d=function(){if(!m._isMove&&i.images&&i.iW&&i.iH){e();
return
}i.holder.isWaiting=true;
l();
i.holder.slideId=-99
};
var f=function(){if(!i.isAppended&&m.ev){var n=m.st.visibleNearby,p=i.id-m._newSlideId;
if(!g&&!i.appendOnLoaded&&m.st.fadeinLoadedSlide&&(p===0||((n||m._isAnimating||m._isDragging)&&(p===-1||p===1)))){var o={visibility:"visible",opacity:0};
o[m._vendorPref+"transition"]="opacity 400ms ease-in-out";
i.content.css(o);
setTimeout(function(){i.content.css("opacity",1)
},16)
}if(i.holder.find(".rsPreloader").length){i.holder.append(i.content)
}else{i.holder.html(i.content)
}i.isAppended=true;
if(i.isLoaded){m._resizeImage(i);
c()
}if(!i.sizeReady){i.sizeReady=true;
setTimeout(function(){if(m&&m.ev){m.ev.trigger("rsMaybeSizeReady",i)
}},100)
}}};
var c=function(){if(!i.loadedTriggered&&m.ev){i.isLoaded=i.loadedTriggered=true;
i.holder.trigger("rsAfterContentSet");
m.ev.trigger("rsAfterContentSet",i)
}};
var l=function(){if(m.st.usePreloader){i.holder.html(m._preloader.clone())
}};
var h=function(o){if(m.st.usePreloader){var n=i.holder.find(".rsPreloader");
if(n.length){n.remove()
}}};
if(i.isLoaded){f();
return
}else{if(g){d()
}else{e()
}}},_addBlockToContainer:function(i,h,c){var e=this;
var f=i.holder;
var g=i.id-e._newSlideId;
var d=false;
e._slidesContainer.append(f);
i.appendOnLoaded=false
},_onDragStart:function(i,j){var f=this,c,g,d=(i.type==="touchstart");
f._isTouchGesture=d;
f.ev.trigger("rsDragStart");
if(b(i.target).closest(".rsNoDrag",f._currHolder).length){f.dragSuccess=false;
return true
}if(!j){if(f._isAnimating){f._wasAnimating=true;
f._stopAnimation()
}}f.dragSuccess=false;
if(f._isDragging){if(d){f._multipleTouches=true
}return
}else{if(d){f._multipleTouches=false
}}f._setGrabbingCursor();
if(d){var h=i.originalEvent.touches;
if(h&&h.length>0){c=h[0];
if(h.length>1){f._multipleTouches=true
}}else{return
}}else{i.preventDefault();
c=i;
if(f.msEnabled){c=c.originalEvent
}}f._isDragging=true;
f._doc.on(f._moveEvent,function(k){f._onDragMove(k,j)
}).on(f._upEvent,function(k){f._onDragRelease(k,j)
});
f._currMoveAxis="";
f._hasMoved=false;
f._pageX=c.pageX;
f._pageY=c.pageY;
f._startPagePos=f._accelerationPos=(!j?f._slidesHorizontal:f._thumbsHorizontal)?c.pageX:c.pageY;
f._horDir=0;
f._verDir=0;
f._currRenderPosition=!j?f._sPosition:f._thumbsPosition;
f._startTime=new Date().getTime();
if(d){f._sliderOverflow.on(f._cancelEvent,function(k){f._onDragRelease(k,j)
})
}},_renderMovement:function(m,e){var n=this;
if(n._checkedAxis){var i=n._renderMoveTime,j=m.pageX-n._pageX,g=m.pageY-n._pageY,c=n._currRenderPosition+j,o=n._currRenderPosition+g,l=(!e?n._slidesHorizontal:n._thumbsHorizontal),k=l?c:o,d=n._currMoveAxis;
n._hasMoved=true;
n._pageX=m.pageX;
n._pageY=m.pageY;
if(d==="x"&&j!==0){n._horDir=j>0?1:-1
}else{if(d==="y"&&g!==0){n._verDir=g>0?1:-1
}}var f=l?n._pageX:n._pageY,h=l?j:g;
if(!e){if(!n._loop){if(n.currSlideId<=0){if(f-n._startPagePos>0){k=n._currRenderPosition+h*n._lastItemFriction
}}if(n.currSlideId>=n.numSlides-1){if(f-n._startPagePos<0){k=n._currRenderPosition+h*n._lastItemFriction
}}}}else{if(k>n._thumbsMinPosition){k=n._currRenderPosition+h*n._lastItemFriction
}else{if(k<n._thumbsMaxPosition){k=n._currRenderPosition+h*n._lastItemFriction
}}}n._currRenderPosition=k;
if(i-n._startTime>200){n._startTime=i;
n._accelerationPos=f
}if(!e){if(n._isMove){n._setPosition(n._currRenderPosition)
}}else{n._setThumbsPosition(n._currRenderPosition)
}}},_onDragMove:function(i,c){var l=this,k,f=(i.type==="touchmove");
if(l._isTouchGesture&&!f){return
}if(f){if(l._lockAxis){return
}var h=i.originalEvent.touches;
if(h){if(h.length>1){return
}else{k=h[0]
}}else{return
}}else{k=i;
if(l.msEnabled){k=k.originalEvent
}}if(!l._hasMoved){if(l._useCSS3Transitions){(!c?l._slidesContainer:l._thumbsContainer).css((l._vendorPref+l._TD),"0s")
}(function g(){if(l._isDragging){l._animFrame=requestAnimationFrame(g);
if(l._renderMoveEvent){l._renderMovement(l._renderMoveEvent,c)
}}})()
}if(!l._checkedAxis){var d=(!c?l._slidesHorizontal:l._thumbsHorizontal),j=(Math.abs(k.pageX-l._pageX)-Math.abs(k.pageY-l._pageY))-(d?-7:7);
if(j>7){if(d){i.preventDefault();
l._currMoveAxis="x"
}else{if(f){l._completeGesture(i);
return
}}l._checkedAxis=true
}else{if(j<-7){if(!d){i.preventDefault();
l._currMoveAxis="y"
}else{if(f){l._completeGesture(i);
return
}}l._checkedAxis=true
}}return
}i.preventDefault();
l._renderMoveTime=new Date().getTime();
l._renderMoveEvent=k
},_completeGesture:function(d,f){var c=this;
c._lockAxis=true;
c._hasMoved=c._isDragging=false;
c._onDragRelease(d)
},_onDragRelease:function(H,y){var A=this,x,F,c,l,k,h,o,g,w=(H.type.indexOf("touch")>-1);
if(A._isTouchGesture&&!w){return
}A._isTouchGesture=false;
A.ev.trigger("rsDragRelease");
A._renderMoveEvent=null;
A._isDragging=false;
A._lockAxis=false;
A._checkedAxis=false;
A._renderMoveTime=0;
cancelAnimationFrame(A._animFrame);
if(A._hasMoved){if(!y){if(A._isMove){A._setPosition(A._currRenderPosition)
}}else{A._setThumbsPosition(A._currRenderPosition)
}}A._doc.off(A._moveEvent).off(A._upEvent);
if(w){A._sliderOverflow.off(A._cancelEvent)
}A._setGrabCursor();
if(!A._hasMoved&&!A._multipleTouches){if(y&&A._thumbsEnabled){var I=b(H.target).closest(".rsNavItem");
if(I.length){A.goTo(I.index())
}return
}}var v=(!y?A._slidesHorizontal:A._thumbsHorizontal);
if(!A._hasMoved||(A._currMoveAxis==="y"&&v)||(A._currMoveAxis==="x"&&!v)){if(!y&&A._wasAnimating){A._wasAnimating=false;
if(!A.st.navigateByClick){A.dragSuccess=true
}else{A._mouseNext((A.msEnabled?H.originalEvent:H));
A.dragSuccess=true;
return
}}else{A._wasAnimating=false;
A.dragSuccess=false;
return
}}else{A.dragSuccess=true
}A._wasAnimating=false;
A._currMoveAxis="";
function f(e){if(e<100){return 100
}else{if(e>500){return 500
}}return e
}function u(L,e){if(A._isMove||y){k=(-A._realId-A._idOffset)*A._slideSize;
h=Math.abs(A._sPosition-k);
A._currAnimSpeed=h/e;
if(L){A._currAnimSpeed+=250
}A._currAnimSpeed=f(A._currAnimSpeed);
A._animateTo(k,false)
}}var m=A.st.minSlideOffset,C=w?H.originalEvent.changedTouches[0]:(A.msEnabled?H.originalEvent:H),p=v?C.pageX:C.pageY,D=A._startPagePos,s=A._accelerationPos,E=A.currSlideId,K=A.numSlides,B=v?A._horDir:A._verDir,J=A._loop,z=false,d=0;
x=Math.abs(p-D);
F=p-s;
c=(new Date().getTime())-A._startTime;
l=Math.abs(F)/c;
if(B===0||K<=1){u(true,l);
return
}if(!J&&!y){if(E<=0){if(B>0){u(true,l);
return
}}else{if(E>=K-1){if(B<0){u(true,l);
return
}}}}if(!y){var r=function(M){var e=Math.floor(M/A._slideSize);
var L=M-(e*A._slideSize);
if(L>m){e++
}return e
};
if(D+m<p){if(B<0){u(false,l);
return
}var t=r(p-D);
A._moveTo(A.currSlideId-t,f(Math.abs(A._sPosition-(-A._realId-A._idOffset+t)*A._slideSize)/l),z,true,true)
}else{if(D-m>p){if(B>0){u(false,l);
return
}var t=r(D-p);
A._moveTo(A.currSlideId+t,f(Math.abs(A._sPosition-(-A._realId-A._idOffset-t)*A._slideSize)/l),z,true,true)
}else{u(false,l)
}}}else{k=A._thumbsPosition;
var j;
if(k>A._thumbsMinPosition){k=A._thumbsMinPosition
}else{if(k<A._thumbsMaxPosition){k=A._thumbsMaxPosition
}else{var q=0.003,n=(l*l)/(q*2),G=-A._thumbsPosition,i=A._thumbsContainerSize-A._thumbsViewportSize+A._thumbsPosition;
if(F>0&&n>G){G=G+A._thumbsViewportSize/(15/(n/l*q));
l=l*G/n;
n=G
}else{if(F<0&&n>i){i=i+A._thumbsViewportSize/(15/(n/l*q));
l=l*i/n;
n=i
}}j=Math.max(Math.round(l/q),50);
k=k+n*(F<0?-1:1);
if(k>A._thumbsMinPosition){A._animateThumbsTo(k,j,true,A._thumbsMinPosition,200);
return
}else{if(k<A._thumbsMaxPosition){A._animateThumbsTo(k,j,true,A._thumbsMaxPosition,200);
return
}}}}A._animateThumbsTo(k,j,true)
}},_setPosition:function(d){var c=this;
d=c._sPosition=d;
if(c._useCSS3Transitions){c._slidesContainer.css(c._xProp,c._tPref1+(c._slidesHorizontal?(d+c._tPref2+0):(0+c._tPref2+d))+c._tPref3)
}else{c._slidesContainer.css(c._slidesHorizontal?c._xProp:c._yProp,d)
}},updateSliderSize:function(d){var m=this,g,c;
if(!m.slider){return
}if(m.st.autoScaleSlider){var k=m.st.autoScaleSliderWidth,j=m.st.autoScaleSliderHeight;
if(m.st.autoScaleHeight){g=m.slider.width();
if(g!=m.width){m.slider.css("height",g*(j/k));
g=m.slider.width()
}c=m.slider.height()
}else{c=m.slider.height();
if(c!=m.height){m.slider.css("width",c*(k/j));
c=m.slider.height()
}g=m.slider.width()
}}else{g=m.slider.width();
c=m.slider.height()
}if(d||g!=m.width||c!=m.height){m.width=g;
m.height=c;
m._wrapWidth=g;
m._wrapHeight=c;
m.ev.trigger("rsBeforeSizeSet");
m.ev.trigger("rsAfterSizePropSet");
m._sliderOverflow.css({width:m._wrapWidth,height:m._wrapHeight});
m._slideSize=(m._slidesHorizontal?m._wrapWidth:m._wrapHeight)+m.st.slidesSpacing;
m._imagePadding=m.st.imageScalePadding;
var l,h,f,e;
for(f=0;
f<m.slides.length;
f++){l=m.slides[f];
l.positionSet=false;
if(l&&l.images&&l.isLoaded){l.isRendered=false;
m._resizeImage(l)
}}if(m._cloneHolders){for(f=0;
f<m._cloneHolders.length;
f++){l=m._cloneHolders[f];
l.holder.css(m._reorderProp,(l.id+m._idOffset)*m._slideSize)
}}m._updateBlocksContent();
if(m._isMove){if(m._useCSS3Transitions){m._slidesContainer.css(m._vendorPref+"transition-duration","0s")
}m._setPosition((-m._realId-m._idOffset)*m._slideSize)
}m.ev.trigger("rsOnUpdateNav")
}m._sliderOffset=m._sliderOverflow.offset();
m._sliderOffset=m._sliderOffset[m._reorderProp]
},appendSlide:function(d,e){var c=this,f=c._parseNode(d);
if(isNaN(e)||e>c.numSlides){e=c.numSlides
}c.slides.splice(e,0,f);
c.slidesJQ.splice(e,0,b('<div style="'+(c._isMove?"position:absolute;":c._opacityCSS)+'" class="rsSlide"></div>'));
if(e<c.currSlideId){c.currSlideId++
}c.ev.trigger("rsOnAppendSlide",[f,e]);
c._refreshSlides(e);
if(e===c.currSlideId){c.ev.trigger("rsAfterSlideChange")
}},removeSlide:function(e){var d=this,c=d.slides[e];
if(c){if(c.holder){c.holder.remove()
}if(e<d.currSlideId){d.currSlideId--
}d.slides.splice(e,1);
d.slidesJQ.splice(e,1);
d.ev.trigger("rsOnRemoveSlide",[e]);
d._refreshSlides(e);
if(e===d.currSlideId){d.ev.trigger("rsAfterSlideChange")
}}},_refreshSlides:function(f){var d=this;
var c=d.numSlides;
var e=d._realId<=0?0:Math.floor(d._realId/c);
d.numSlides=d.slides.length;
if(d.numSlides===0){d.currSlideId=d._idOffset=d._realId=0;
d.currSlide=d._oldHolder=null
}else{d._realId=e*d.numSlides+d.currSlideId
}for(var g=0;
g<d.numSlides;
g++){d.slides[g].id=g
}d.currSlide=d.slides[d.currSlideId];
d._currHolder=d.slidesJQ[d.currSlideId];
if(d.currSlideId>=d.numSlides){d.goTo(d.numSlides-1)
}else{if(d.currSlideId<0){d.goTo(0)
}}d._refreshNumPreloadImages();
if(d._isMove&&d._loop){d._slidesContainer.css((d._vendorPref+d._TD),"0ms")
}if(d._refreshSlidesTimeout){clearTimeout(d._refreshSlidesTimeout)
}d._refreshSlidesTimeout=setTimeout(function(){if(d._isMove){d._setPosition((-d._realId-d._idOffset)*d._slideSize)
}d._updateBlocksContent();
if(!d._isMove){d._currHolder.css({display:"block",opacity:1})
}},14);
d.ev.trigger("rsOnUpdateNav")
},_setGrabCursor:function(){var c=this;
if(c._hasDrag&&c._isMove){if(c._grabCursor){c._sliderOverflow.css("cursor",c._grabCursor)
}else{c._sliderOverflow.removeClass("grabbing-cursor");
c._sliderOverflow.addClass("grab-cursor")
}}},_setGrabbingCursor:function(){var c=this;
if(c._hasDrag&&c._isMove){if(c._grabbingCursor){c._sliderOverflow.css("cursor",c._grabbingCursor)
}else{c._sliderOverflow.removeClass("grab-cursor");
c._sliderOverflow.addClass("grabbing-cursor")
}}},next:function(d){var c=this;
c._moveTo("next",c.st.transitionSpeed,true,!d)
},prev:function(d){var c=this;
c._moveTo("prev",c.st.transitionSpeed,true,!d)
},_moveTo:function(g,v,h,n,s){var o=this,f,y,u,p;
o.ev.trigger("rsBeforeMove",[g,n]);
if(g==="next"){p=o.currSlideId+1
}else{if(g==="prev"){p=o.currSlideId-1
}else{p=g=parseInt(g,10)
}}if(!o._loop){if(p<0){o._doBackAndForthAnim("left",!n);
return
}else{if(p>=o.numSlides){o._doBackAndForthAnim("right",!n);
return
}}}if(o._isAnimating){o._stopAnimation(true);
h=false
}y=p-o.currSlideId;
o._prevSlideId=o.currSlideId;
var e=o.currSlideId;
var q=o.currSlideId+y;
var j=o._realId;
var x;
var t;
if(o._loop){q=o._updateBlocksContent(false,q);
j+=y
}else{j=q
}o._newSlideId=q;
o._oldHolder=o.slidesJQ[o.currSlideId];
o._realId=j;
o.currSlideId=o._newSlideId;
o.currSlide=o.slides[o.currSlideId];
o._currHolder=o.slidesJQ[o.currSlideId];
var d=o.st.slidesDiff;
var r=Boolean(y>0);
var m=Math.abs(y);
var c=Math.floor(e/o._numPreloadImages);
var A=Math.floor((e+(r?d:-d))/o._numPreloadImages);
var z=r?Math.max(c,A):Math.min(c,A);
var w=z*o._numPreloadImages+(r?(o._numPreloadImages-1):0);
if(w>o.numSlides-1){w=o.numSlides-1
}else{if(w<0){w=0
}}var k=r?(w-e):(e-w);
if(k>o._numPreloadImages){k=o._numPreloadImages
}if(m>k+d){o._idOffset+=(m-(k+d))*(r?-1:1);
v=v*1.4;
for(u=0;
u<o.numSlides;
u++){o.slides[u].positionSet=false
}}o._currAnimSpeed=v;
o._updateBlocksContent(true);
if(!s){t=true
}f=(-j-o._idOffset)*o._slideSize;
if(t){setTimeout(function(){o._isWorking=false;
o._animateTo(f,g,false,h);
o.ev.trigger("rsOnUpdateNav")
},0)
}else{o._animateTo(f,g,false,h);
o.ev.trigger("rsOnUpdateNav")
}function l(i){if(i<0){i=o.numSlides+i
}else{if(i>o.numSlides-1){i=i-o.numSlides
}}if(i!==o.currSlideId){return false
}return true
}},_updateArrowsNav:function(){var c=this,d="rsArrowDisabled";
if(c.st.arrowsNav){if(c.numSlides<=1){c._arrowLeft.css("display","none");
c._arrowRight.css("display","none");
return
}else{c._arrowLeft.css("display","block");
c._arrowRight.css("display","block")
}if(!c._loop&&!c.st.loopRewind){if(c.currSlideId===0){c._arrowLeft.addClass(d)
}else{c._arrowLeft.removeClass(d)
}if(c.currSlideId===c.numSlides-1){c._arrowRight.addClass(d)
}else{c._arrowRight.removeClass(d)
}}}},_animateTo:function(m,e,c,k,g){var o=this,h,j,l;
var d={};
if(isNaN(o._currAnimSpeed)){o._currAnimSpeed=400
}o._sPosition=o._currRenderPosition=m;
o.ev.trigger("rsBeforeAnimStart");
if(!o._useCSS3Transitions){if(o._isMove){d[o._slidesHorizontal?o._xProp:o._yProp]=m+"px";
o._slidesContainer.animate(d,o._currAnimSpeed,k?o.st.easeInOut:o.st.easeOut)
}else{j=o._oldHolder;
l=o._currHolder;
l.stop(true,true).css({opacity:0,display:"block",zIndex:o._fadeZIndex});
o._currAnimSpeed=o.st.transitionSpeed;
l.animate({opacity:1},o._currAnimSpeed,o.st.easeInOut);
n();
if(j){j.data("rsTimeout",setTimeout(function(){j.stop(true,true).css({opacity:0,display:"none",zIndex:0})
},o._currAnimSpeed+60))
}}}else{if(o._isMove){o._currAnimSpeed=parseInt(o._currAnimSpeed,10);
var f=o._vendorPref+o._TD;
var i=o._vendorPref+o._TTF;
d[f]=o._currAnimSpeed+"ms";
d[i]=k?b.rsCSS3Easing[o.st.easeInOut]:b.rsCSS3Easing[o.st.easeOut];
o._slidesContainer.css(d);
if(k||!o.hasTouch){setTimeout(function(){o._setPosition(m)
},5)
}else{o._setPosition(m)
}}else{o._currAnimSpeed=o.st.transitionSpeed;
j=o._oldHolder;
l=o._currHolder;
if(l.data("rsTimeout")){l.css("opacity",0)
}n();
if(j){j.data("rsTimeout",setTimeout(function(){d[o._vendorPref+o._TD]="0ms";
d.zIndex=0;
d.display="none";
j.data("rsTimeout","");
j.css(d);
setTimeout(function(){j.css("opacity",0)
},16)
},o._currAnimSpeed+60))
}d.display="block";
d.zIndex=o._fadeZIndex;
d.opacity=0;
d[o._vendorPref+o._TD]="0ms";
d[o._vendorPref+o._TTF]=b.rsCSS3Easing[o.st.easeInOut];
l.css(d);
l.data("rsTimeout",setTimeout(function(){l.css(o._vendorPref+o._TD,o._currAnimSpeed+"ms");
l.data("rsTimeout",setTimeout(function(){l.css("opacity",1);
l.data("rsTimeout","")
},20))
},20))
}}o._isAnimating=true;
if(o.loadingTimeout){clearTimeout(o.loadingTimeout)
}if(g){o.loadingTimeout=setTimeout(function(){o.loadingTimeout=null;
g.call()
},o._currAnimSpeed+60)
}else{o.loadingTimeout=setTimeout(function(){o.loadingTimeout=null;
o._animationComplete(e)
},o._currAnimSpeed+60)
}function n(){var p;
if(j){p=j.data("rsTimeout");
if(p){if(j!==l){j.css({opacity:0,display:"none",zIndex:0})
}clearTimeout(p);
j.data("rsTimeout","")
}}p=l.data("rsTimeout");
if(p){clearTimeout(p);
l.data("rsTimeout","")
}}},_stopAnimation:function(f){var c=this;
c._isAnimating=false;
clearTimeout(c.loadingTimeout);
if(c._isMove){if(!c._useCSS3Transitions){c._slidesContainer.stop(true);
c._sPosition=parseInt(c._slidesContainer.css(c._xProp),10)
}else{if(!f){var d=c._sPosition;
var e=c._currRenderPosition=c._getTransformProp();
c._slidesContainer.css((c._vendorPref+c._TD),"0ms");
if(d!==e){c._setPosition(e)
}}}}else{if(c._fadeZIndex>20){c._fadeZIndex=10
}else{c._fadeZIndex++
}}},_getTransformProp:function(){var d=this,e=window.getComputedStyle(d._slidesContainer.get(0),null).getPropertyValue(d._vendorPref+"transform"),c=e.replace(/^matrix\(/i,"").split(/, |\)$/g),f=(c[0].indexOf("matrix3d")===0);
return parseInt(c[(d._slidesHorizontal?(f?12:4):(f?13:5))],10)
},_getCSS3Prop:function(e,d){var c=this;
return c._useCSS3Transitions?c._tPref1+(d?(e+c._tPref2+0):(0+c._tPref2+e))+c._tPref3:e
},_animationComplete:function(d){var c=this;
if(!c._isMove){c._currHolder.css("z-index",0);
c._fadeZIndex=10
}c._isAnimating=false;
c.staticSlideId=c.currSlideId;
c._updateBlocksContent();
c._slidesMoved=false;
c.ev.trigger("rsAfterSlideChange")
},_doBackAndForthAnim:function(f,h){var c=this,e=(-c._realId-c._idOffset)*c._slideSize;
if(c.numSlides===0||c._isAnimating){return
}if(c.st.loopRewind){c.goTo(f==="left"?c.numSlides-1:0,h);
return
}if(c._isMove){c._currAnimSpeed=200;
var g=function(){c._isAnimating=false
};
var d=function(){c._isAnimating=false;
c._animateTo(e,"",false,true,g)
};
c._animateTo(e+(f==="left"?30:-30),"",false,true,d)
}},_resizeImage:function(c,v){var p=true;
if(c.isRendered){return
}var w=c.content;
var t="rsMainSlideImage";
var q;
var o=this,m=o.st.imageAlignCenter,l=o.st.imageScaleMode,s,e;
if(c.videoURL){t="rsVideoContainer";
if(l!=="fill"){q=true
}else{s=w;
if(!s.hasClass(t)){s=s.find("."+t)
}s.css({width:"100%",height:"100%"});
t="rsMainSlideImage"
}}if(!w.hasClass(t)){p=false;
w=w.find("."+t)
}if(!w){return
}var j=c.iW,f=c.iH;
c.isRendered=true;
if(l==="none"&&!m){return
}if(l!=="fill"){e=o._imagePadding
}else{e=0
}var k=o._wrapWidth-e*2,n=o._wrapHeight-e*2,g,d,h,i,r,u={};
if(l==="fit-if-smaller"){if(j>k||f>n){l="fit"
}}if(l==="fill"||l==="fit"){g=k/j;
d=n/f;
if(l=="fill"){h=g>d?g:d
}else{if(l=="fit"){h=g<d?g:d
}else{h=1
}}i=Math.ceil(j*h,10);
r=Math.ceil(f*h,10)
}else{i=j;
r=f
}if(l!=="none"){u.width=i;
u.height=r;
if(q){w.find(".rsImg").css({width:"100%",height:"100%"})
}}if(m){u.marginLeft=Math.floor((k-i)/2)+e;
u.marginTop=Math.floor((n-r)/2)+e
}w.css(u)
}};
b.rsProto=a.prototype;
b.fn.royalSlider=function(d){var c=arguments;
return this.each(function(){var f=b(this);
if(typeof d==="object"||!d){if(!f.data("royalSlider")){f.data("royalSlider",new a(f,d))
}}else{var e=f.data("royalSlider");
if(e&&e[d]){return e[d].apply(e,Array.prototype.slice.call(c,1))
}}})
};
b.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:false,loopRewind:false,numImagesToPreload:4,fadeinLoadedSlide:true,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:true,arrowsNav:true,arrowsNavAutoHide:true,navigateByClick:true,randomizeSlides:false,sliderDrag:true,sliderTouch:true,keyboardNavEnabled:false,fadeInAfterLoaded:true,allowCSS3:true,allowCSS3OnWebkit:true,addActiveClass:false,autoHeight:false,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:true,imageScalePadding:4,usePreloader:true,autoScaleSlider:false,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:true,arrowsNavHideOnTouch:false,globalCaption:false,slidesDiff:2};
b.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};
b.extend(jQuery.easing,{easeInOutSine:function(f,g,e,i,h){return -i/2*(Math.cos(Math.PI*g/h)-1)+e
},easeOutSine:function(f,g,e,i,h){return i*Math.sin(g/h*(Math.PI/2))+e
},easeOutCubic:function(f,g,e,i,h){return i*((g=g/h-1)*g*g+1)+e
}})
})(jQuery,window);
(function(a){a.extend(a.rsProto,{_initAutoplay:function(){var c=this,b;
c._autoPlayDefaults={enabled:false,stopAtAction:true,pauseOnHover:true,delay:2000};
if(!c.st.autoPlay&&c.st.autoplay){c.st.autoPlay=c.st.autoplay
}c.st.autoPlay=a.extend({},c._autoPlayDefaults,c.st.autoPlay);
if(c.st.autoPlay.enabled){c.ev.on("rsBeforeParseNode",function(g,d,f){d=a(d);
b=d.attr("data-rsDelay");
if(b){f.customDelay=parseInt(b,10)
}});
c.ev.one("rsAfterInit",function(){c._setupAutoPlay()
});
c.ev.on("rsBeforeDestroy",function(){c.stopAutoPlay();
c.slider.off("mouseenter mouseleave");
a(window).off("blur"+c.ns+" focus"+c.ns)
})
}},_setupAutoPlay:function(){var b=this;
b.startAutoPlay();
b.ev.on("rsAfterContentSet",function(c,d){if(!b._isDragging&&!b._isAnimating&&b._autoPlayEnabled&&d===b.currSlide){b._play()
}});
b.ev.on("rsDragRelease",function(){if(b._autoPlayEnabled&&b._autoPlayPaused){b._autoPlayPaused=false;
b._play()
}});
b.ev.on("rsAfterSlideChange",function(){if(b._autoPlayEnabled){if(b._autoPlayPaused){b._autoPlayPaused=false;
if(b.currSlide.isLoaded){b._play()
}}}});
b.ev.on("rsDragStart",function(){if(b._autoPlayEnabled){if(b.st.autoPlay.stopAtAction){b.stopAutoPlay()
}else{b._autoPlayPaused=true;
b._pause()
}}});
b.ev.on("rsBeforeMove",function(d,c,f){if(b._autoPlayEnabled){if(f&&b.st.autoPlay.stopAtAction){b.stopAutoPlay()
}else{b._autoPlayPaused=true;
b._pause()
}}});
b._pausedByVideo=false;
b.ev.on("rsVideoStop",function(){if(b._autoPlayEnabled){b._pausedByVideo=false;
b._play()
}});
b.ev.on("rsVideoPlay",function(){if(b._autoPlayEnabled){b._autoPlayPaused=false;
b._pause();
b._pausedByVideo=true
}});
a(window).on("blur"+b.ns,function(){if(b._autoPlayEnabled){b._autoPlayPaused=true;
b._pause()
}}).on("focus"+b.ns,function(){if(b._autoPlayEnabled&&b._autoPlayPaused){b._autoPlayPaused=false;
b._play()
}});
if(b.st.autoPlay.pauseOnHover){b._pausedByHover=false;
b.slider.hover(function(){if(b._autoPlayEnabled){b._autoPlayPaused=false;
b._pause();
b._pausedByHover=true
}},function(){if(b._autoPlayEnabled){b._pausedByHover=false;
b._play()
}})
}},toggleAutoPlay:function(){var b=this;
if(b._autoPlayEnabled){b.stopAutoPlay()
}else{b.startAutoPlay()
}},startAutoPlay:function(){var b=this;
b._autoPlayEnabled=true;
if(b.currSlide.isLoaded){b._play()
}},stopAutoPlay:function(){var b=this;
b._pausedByVideo=b._pausedByHover=b._autoPlayPaused=b._autoPlayEnabled=false;
b._pause()
},_play:function(){var b=this;
if(!b._pausedByHover&&!b._pausedByVideo){b._autoPlayRunning=true;
if(b._autoPlayTimeout){clearTimeout(b._autoPlayTimeout)
}b._autoPlayTimeout=setTimeout(function(){var c;
if(!b._loop&&!b.st.loopRewind){c=true;
b.st.loopRewind=true
}b.next(true);
if(c){c=false;
b.st.loopRewind=false
}},!b.currSlide.customDelay?b.st.autoPlay.delay:b.currSlide.customDelay)
}},_pause:function(){var b=this;
if(!b._pausedByHover&&!b._pausedByVideo){b._autoPlayRunning=false;
if(b._autoPlayTimeout){clearTimeout(b._autoPlayTimeout);
b._autoPlayTimeout=null
}}}});
a.rsModules.autoplay=a.rsProto._initAutoplay
})(jQuery);
(function(a){a.extend(a.rsProto,{_initAutoHeight:function(){var b=this;
if(b.st.autoHeight){var e,f,g,d,h=true,c=function(i){g=b.slides[b.currSlideId];
e=g.holder;
if(e){f=e.height();
if(f&&f!==d&&f>(b.st.minAutoHeight||30)){b._wrapHeight=f;
if(b._useCSS3Transitions||!i){b._sliderOverflow.css("height",f)
}else{b._sliderOverflow.stop(true,true).animate({height:f},b.st.transitionSpeed)
}b.ev.trigger("rsAutoHeightChange",f);
if(h){if(b._useCSS3Transitions){setTimeout(function(){b._sliderOverflow.css(b._vendorPref+"transition","height "+b.st.transitionSpeed+"ms ease-in-out")
},16)
}h=false
}}}};
b.ev.on("rsMaybeSizeReady.rsAutoHeight",function(i,j){if(g===j){c()
}});
b.ev.on("rsAfterContentSet.rsAutoHeight",function(i,j){if(g===j){c()
}});
b.slider.addClass("rsAutoHeight");
b.ev.one("rsAfterInit",function(){setTimeout(function(){c(false);
setTimeout(function(){b.slider.append('<div style="clear:both; float: none;"></div>')
},16)
},16)
});
b.ev.on("rsBeforeAnimStart",function(){c(true)
});
b.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){c(false)
},16)
})
}}});
a.rsModules.autoHeight=a.rsProto._initAutoHeight
})(jQuery);
(function(a){a.extend(a.rsProto,{_initBullets:function(){var b=this;
if(b.st.controlNavigation==="bullets"){var c='<div class="rsNavItem rsBullet"><span></span></div>';
b.ev.one("rsAfterPropsSetup",function(){b._controlNavEnabled=true;
b.slider.addClass("rsWithBullets");
var d='<div class="rsNav rsBullets">';
for(var e=0;
e<b.numSlides;
e++){d+=c
}b._controlNav=d=a(d+"</div>");
b._controlNavItems=d.appendTo(b.slider).children();
b._controlNav.on("click.rs",".rsNavItem",function(f){if(!b._thumbsDrag){b.goTo(a(this).index())
}})
});
b.ev.on("rsOnAppendSlide",function(g,f,d){if(d>=b.numSlides){b._controlNav.append(c)
}else{b._controlNavItems.eq(d).before(c)
}b._controlNavItems=b._controlNav.children()
});
b.ev.on("rsOnRemoveSlide",function(g,d){var f=b._controlNavItems.eq(d);
if(f&&f.length){f.remove();
b._controlNavItems=b._controlNav.children()
}});
b.ev.on("rsOnUpdateNav",function(){var f=b.currSlideId,d,e;
if(b._prevNavItem){b._prevNavItem.removeClass("rsNavSelected")
}d=b._controlNavItems.eq(f);
d.addClass("rsNavSelected");
b._prevNavItem=d
})
}}});
a.rsModules.bullets=a.rsProto._initBullets
})(jQuery);
(function(a){a.extend(a.rsProto,{_initGlobalCaption:function(){var b=this;
if(b.st.globalCaption){var c=function(){if(b.currSlide){b.globalCaption.html(b.currSlide.caption)
}};
b.ev.on("rsAfterInit",function(){b.globalCaption=a('<div class="rsGCaption"></div>').appendTo(!b.st.globalCaptionInside?b.slider:b._sliderOverflow);
c()
});
b.ev.on("rsBeforeAnimStart",function(){c()
})
}}});
a.rsModules.globalCaption=a.rsProto._initGlobalCaption
})(jQuery);
(function(a){a.rsProto._initVisibleNearby=function(){var b=this;
if(b.st.visibleNearby&&b.st.visibleNearby.enabled){b._vnDefaults={enabled:true,centerArea:0.6,center:true,breakpoint:0,breakpointCenterArea:0.8,hiddenOverflow:true,navigateByCenterClick:false};
b.st.visibleNearby=a.extend({},b._vnDefaults,b.st.visibleNearby);
b.ev.one("rsAfterPropsSetup",function(){b._sliderVisibleNearbyWrap=b._sliderOverflow.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent();
if(!b.st.visibleNearby.hiddenOverflow){b._sliderVisibleNearbyWrap.css("overflow","visible")
}b._controlsContainer=b.st.controlsInside?b._sliderVisibleNearbyWrap:b.slider
});
b.ev.on("rsAfterSizePropSet",function(){var c,d=b.st.visibleNearby;
if(d.breakpoint&&b.width<d.breakpoint){c=d.breakpointCenterArea
}else{c=d.centerArea
}if(b._slidesHorizontal){b._wrapWidth=b._wrapWidth*c;
b._sliderVisibleNearbyWrap.css({height:b._wrapHeight,width:b._wrapWidth/c});
b._minPosOffset=b._wrapWidth*(1-c)/2/c
}else{b._wrapHeight=b._wrapHeight*c;
b._sliderVisibleNearbyWrap.css({height:b._wrapHeight/c,width:b._wrapWidth});
b._minPosOffset=b._wrapHeight*(1-c)/2/c
}if(!d.navigateByCenterClick){b._nextSlidePos=b._slidesHorizontal?b._wrapWidth:b._wrapHeight
}if(d.center){b._sliderOverflow.css("margin-"+(b._slidesHorizontal?"left":"top"),b._minPosOffset)
}})
}};
a.rsModules.visibleNearby=a.rsProto._initVisibleNearby
})(jQuery);
(function(a){a.extend(a.rsProto,{_initThumbs:function(){var b=this;
if(b.st.controlNavigation==="thumbnails"){b._thumbsDefaults={drag:true,touch:true,orientation:"horizontal",navigation:true,arrows:true,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:false,appendSpan:false,transitionSpeed:600,autoCenter:true,fitInViewport:true,firstMargin:true,paddingTop:0,paddingBottom:0};
b.st.thumbs=a.extend({},b._thumbsDefaults,b.st.thumbs);
b._firstThumbMoved=true;
if(b.st.thumbs.firstMargin===false){b.st.thumbs.firstMargin=0
}else{if(b.st.thumbs.firstMargin===true){b.st.thumbs.firstMargin=b.st.thumbs.spacing
}}b.ev.on("rsBeforeParseNode",function(f,c,d){c=a(c);
d.thumbnail=c.find(".rsTmb").remove();
if(!d.thumbnail.length){d.thumbnail=c.attr("data-rsTmb");
if(!d.thumbnail){d.thumbnail=c.find(".rsImg").attr("data-rsTmb")
}if(!d.thumbnail){d.thumbnail=""
}else{d.thumbnail='<img src="'+d.thumbnail+'"/>'
}}else{d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html()
}});
b.ev.one("rsAfterPropsSetup",function(){b._createThumbs()
});
b._prevNavItem=null;
b.ev.on("rsOnUpdateNav",function(){var c=a(b._controlNavItems[b.currSlideId]);
if(c===b._prevNavItem){return
}if(b._prevNavItem){b._prevNavItem.removeClass("rsNavSelected");
b._prevNavItem=null
}if(b._thumbsNavigation){b._setCurrentThumb(b.currSlideId)
}b._prevNavItem=c.addClass("rsNavSelected")
});
b.ev.on("rsOnAppendSlide",function(g,f,c){var d="<div"+b._thumbsMargin+' class="rsNavItem rsThumb">'+b._addThumbHTML+f.thumbnail+"</div>";
if(c>=b.numSlides){b._thumbsContainer.append(d)
}else{b._controlNavItems.eq(c).before(d)
}b._controlNavItems=b._thumbsContainer.children();
b.updateThumbsSize()
});
b.ev.on("rsOnRemoveSlide",function(f,c){var d=b._controlNavItems.eq(c);
if(d){d.remove();
b._controlNavItems=b._thumbsContainer.children();
b.updateThumbsSize()
}})
}},_createThumbs:function(){var l=this,d="rsThumbs",h=l.st.thumbs,f="",b,k,j=h.spacing;
l._controlNavEnabled=true;
l._thumbsHorizontal=(h.orientation==="vertical")?false:true;
l._thumbsMargin=b=j?' style="margin-'+(l._thumbsHorizontal?"right":"bottom")+":"+j+'px;"':"";
l._thumbsPosition=0;
l._isThumbsAnimating=false;
l._thumbsDrag=false;
l._thumbsNavigation=false;
l._thumbsArrows=(h.arrows&&h.navigation);
var e=(l._thumbsHorizontal?"Hor":"Ver");
l.slider.addClass("rsWithThumbs rsWithThumbs"+e);
f+='<div class="rsNav rsThumbs rsThumbs'+e+'"><div class="'+d+'Container">';
l._addThumbHTML=h.appendSpan?'<span class="thumbIco"></span>':"";
for(var g=0;
g<l.numSlides;
g++){k=l.slides[g];
f+="<div"+b+' class="rsNavItem rsThumb">'+k.thumbnail+l._addThumbHTML+"</div>"
}f=a(f+"</div></div>");
var c={};
if(h.paddingTop){c[l._thumbsHorizontal?"paddingTop":"paddingLeft"]=h.paddingTop
}if(h.paddingBottom){c[l._thumbsHorizontal?"paddingBottom":"paddingRight"]=h.paddingBottom
}f.css(c);
l._thumbsContainer=a(f).find("."+d+"Container");
if(l._thumbsArrows){d+="Arrow";
if(h.arrowLeft){l._thumbsArrowLeft=h.arrowLeft
}else{l._thumbsArrowLeft=a('<div class="'+d+" "+d+'Left"><div class="'+d+'Icn"></div></div>');
f.append(l._thumbsArrowLeft)
}if(h.arrowRight){l._thumbsArrowRight=h.arrowRight
}else{l._thumbsArrowRight=a('<div class="'+d+" "+d+'Right"><div class="'+d+'Icn"></div></div>');
f.append(l._thumbsArrowRight)
}l._thumbsArrowLeft.click(function(){var i=Math.floor(l._thumbsViewportSize/l._thumbSize),m=Math.floor(l._thumbsPosition/l._thumbSize),n=(m+l._visibleThumbsPerView)*l._thumbSize+l._thumbsSpacing;
l._animateThumbsTo(n>l._thumbsMinPosition?l._thumbsMinPosition:n)
});
l._thumbsArrowRight.click(function(){var i=Math.floor(l._thumbsViewportSize/l._thumbSize),m=Math.floor(l._thumbsPosition/l._thumbSize),n=(m-l._visibleThumbsPerView)*l._thumbSize+l._thumbsSpacing;
l._animateThumbsTo(n<l._thumbsMaxPosition?l._thumbsMaxPosition:n)
});
if(h.arrowsAutoHide&&!l.hasTouch){l._thumbsArrowLeft.css("opacity",0);
l._thumbsArrowRight.css("opacity",0);
f.one("mousemove.rsarrowshover",function(){if(l._thumbsNavigation){l._thumbsArrowLeft.css("opacity",1);
l._thumbsArrowRight.css("opacity",1)
}});
f.hover(function(){if(l._thumbsNavigation){l._thumbsArrowLeft.css("opacity",1);
l._thumbsArrowRight.css("opacity",1)
}},function(){if(l._thumbsNavigation){l._thumbsArrowLeft.css("opacity",0);
l._thumbsArrowRight.css("opacity",0)
}})
}}l._controlNav=f;
l._controlNavItems=l._thumbsContainer.children();
if(l.msEnabled&&l.st.thumbs.navigation){l._thumbsContainer.css("touch-action",l._thumbsHorizontal?"pan-y":"pan-x")
}l.slider.append(f);
l._thumbsEnabled=true;
l._thumbsSpacing=j;
if(h.navigation){if(l._useCSS3Transitions){l._thumbsContainer.css(l._vendorPref+"transition-property",l._vendorPref+"transform")
}}l._controlNav.on("click.rs",".rsNavItem",function(i){if(!l._thumbsDrag){l.goTo(a(this).index())
}});
l.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){l._realWrapSize=l._thumbsHorizontal?l._wrapHeight:l._wrapWidth;
l.updateThumbsSize(true)
})
},updateThumbsSize:function(c){var d=this,b=d._controlNavItems.first(),g={};
var f=d._controlNavItems.length;
d._thumbSize=(d._thumbsHorizontal?b.outerWidth():b.outerHeight())+d._thumbsSpacing;
d._thumbsContainerSize=f*d._thumbSize-d._thumbsSpacing;
g[d._thumbsHorizontal?"width":"height"]=d._thumbsContainerSize+d._thumbsSpacing;
d._thumbsViewportSize=d._thumbsHorizontal?d._controlNav.width():d._controlNav.height();
d._thumbsMaxPosition=-(d._thumbsContainerSize-d._thumbsViewportSize)-(d.st.thumbs.firstMargin);
d._thumbsMinPosition=d.st.thumbs.firstMargin;
d._visibleThumbsPerView=Math.floor(d._thumbsViewportSize/d._thumbSize);
if(d._thumbsContainerSize<d._thumbsViewportSize){if(d.st.thumbs.autoCenter){d._setThumbsPosition((d._thumbsViewportSize-d._thumbsContainerSize)/2)
}if(d.st.thumbs.arrows&&d._thumbsArrowLeft){var e="rsThumbsArrowDisabled";
d._thumbsArrowLeft.addClass(e);
d._thumbsArrowRight.addClass(e)
}d._thumbsNavigation=false;
d._thumbsDrag=false;
d._controlNav.off(d._downEvent)
}else{if(d.st.thumbs.navigation&&!d._thumbsNavigation){d._thumbsNavigation=true;
if((!d.hasTouch&&d.st.thumbs.drag)||(d.hasTouch&&d.st.thumbs.touch)){d._thumbsDrag=true;
d._controlNav.on(d._downEvent,function(h){d._onDragStart(h,true)
})
}}}if(d._useCSS3Transitions){g[(d._vendorPref+"transition-duration")]="0ms"
}d._thumbsContainer.css(g);
if(d._thumbsEnabled&&(d.isFullscreen||d.st.thumbs.fitInViewport)){if(d._thumbsHorizontal){d._wrapHeight=d._realWrapSize-d._controlNav.outerHeight()
}else{d._wrapWidth=d._realWrapSize-d._controlNav.outerWidth()
}}},setThumbsOrientation:function(d,c){var b=this;
if(b._thumbsEnabled){b.st.thumbs.orientation=d;
b._controlNav.remove();
b.slider.removeClass("rsWithThumbsHor rsWithThumbsVer");
b._createThumbs();
b._controlNav.off(b._downEvent);
if(!c){b.updateSliderSize(true)
}}},_setThumbsPosition:function(c){var b=this;
b._thumbsPosition=c;
if(b._useCSS3Transitions){b._thumbsContainer.css(b._xProp,b._tPref1+(b._thumbsHorizontal?(c+b._tPref2+0):(0+b._tPref2+c))+b._tPref3)
}else{b._thumbsContainer.css(b._thumbsHorizontal?b._xProp:b._yProp,c)
}},_animateThumbsTo:function(h,g,f,e,c){var d=this;
if(!d._thumbsNavigation){return
}if(!g){g=d.st.thumbs.transitionSpeed
}d._thumbsPosition=h;
if(d._thumbsAnimTimeout){clearTimeout(d._thumbsAnimTimeout)
}if(d._isThumbsAnimating){if(!d._useCSS3Transitions){d._thumbsContainer.stop()
}f=true
}var b={};
d._isThumbsAnimating=true;
if(!d._useCSS3Transitions){b[d._thumbsHorizontal?d._xProp:d._yProp]=h+"px";
d._thumbsContainer.animate(b,g,f?"easeOutCubic":d.st.easeInOut)
}else{b[(d._vendorPref+"transition-duration")]=g+"ms";
b[(d._vendorPref+"transition-timing-function")]=f?a.rsCSS3Easing[d.st.easeOut]:a.rsCSS3Easing[d.st.easeInOut];
d._thumbsContainer.css(b);
d._setThumbsPosition(h)
}if(e){d._thumbsPosition=e
}d._updateThumbsArrows();
d._thumbsAnimTimeout=setTimeout(function(){d._isThumbsAnimating=false;
if(c){d._animateThumbsTo(e,c,true);
c=null
}},g)
},_updateThumbsArrows:function(){var b=this;
if(b._thumbsArrows){var c="rsThumbsArrowDisabled";
if(b._thumbsPosition===b._thumbsMinPosition){b._thumbsArrowLeft.addClass(c)
}else{b._thumbsArrowLeft.removeClass(c)
}if(b._thumbsPosition===b._thumbsMaxPosition){b._thumbsArrowRight.addClass(c)
}else{b._thumbsArrowRight.removeClass(c)
}}},_setCurrentThumb:function(i,e){var c=this,h=0,d,g=(i*c._thumbSize+c._thumbSize*2-c._thumbsSpacing+c._thumbsMinPosition),b=Math.floor(c._thumbsPosition/c._thumbSize);
if(!c._thumbsNavigation){return
}if(c._firstThumbMoved){e=true;
c._firstThumbMoved=false
}if(g+c._thumbsPosition>c._thumbsViewportSize){if(i===c.numSlides-1){h=1
}b=-i+c._visibleThumbsPerView-2+h;
d=b*c._thumbSize+(c._thumbsViewportSize%c._thumbSize)+c._thumbsSpacing-c._thumbsMinPosition
}else{if(i!==0){if((i-1)*c._thumbSize<=-c._thumbsPosition+c._thumbsMinPosition&&(i-1)<=c.numSlides-c._visibleThumbsPerView){b=-i+1;
d=b*c._thumbSize+c._thumbsMinPosition
}}else{b=0;
d=c._thumbsMinPosition
}}if(d!==c._thumbsPosition){var f=(d===undefined)?c._thumbsPosition:d;
if(f>c._thumbsMinPosition){c._setThumbsPosition(c._thumbsMinPosition)
}else{if(f<c._thumbsMaxPosition){c._setThumbsPosition(c._thumbsMaxPosition)
}else{if(d!==undefined){if(!e){c._animateThumbsTo(d)
}else{c._setThumbsPosition(d)
}}}}}c._updateThumbsArrows()
}});
a.rsModules.thumbnails=a.rsProto._initThumbs
})(jQuery);
(function(a){a.extend(a.rsProto,{_initTabs:function(){var b=this;
if(b.st.controlNavigation==="tabs"){b.ev.on("rsBeforeParseNode",function(f,c,d){c=a(c);
d.thumbnail=c.find(".rsTmb").remove();
if(!d.thumbnail.length){d.thumbnail=c.attr("data-rsTmb");
if(!d.thumbnail){d.thumbnail=c.find(".rsImg").attr("data-rsTmb")
}if(!d.thumbnail){d.thumbnail=""
}else{d.thumbnail='<img src="'+d.thumbnail+'"/>'
}}else{d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html()
}});
b.ev.one("rsAfterPropsSetup",function(){b._createTabs()
});
b.ev.on("rsOnAppendSlide",function(f,d,c){if(c>=b.numSlides){b._controlNav.append('<div class="rsNavItem rsTab">'+d.thumbnail+"</div>")
}else{b._controlNavItems.eq(c).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>")
}b._controlNavItems=b._controlNav.children()
});
b.ev.on("rsOnRemoveSlide",function(f,c){var d=b._controlNavItems.eq(c);
if(d){d.remove();
b._controlNavItems=b._controlNav.children()
}});
b.ev.on("rsOnUpdateNav",function(){var e=b.currSlideId,c,d;
if(b._prevNavItem){b._prevNavItem.removeClass("rsNavSelected")
}c=b._controlNavItems.eq(e);
c.addClass("rsNavSelected");
b._prevNavItem=c
})
}},_createTabs:function(){var b=this,c="",e;
b._controlNavEnabled=true;
c+='<div class="rsNav rsTabs">';
for(var d=0;
d<b.numSlides;
d++){c+='<div class="rsNavItem rsTab">'+b.slides[d].thumbnail+"</div>"
}c+="</div>";
c=a(c);
b._controlNav=c;
b._controlNavItems=c.children(".rsNavItem");
b.slider.append(c);
b._controlNav.click(function(g){var f=a(g.target).closest(".rsNavItem");
if(f.length){b.goTo(f.index())
}})
}});
a.rsModules.tabs=a.rsProto._initTabs
})(jQuery);
(function(a){a.extend(a.rsProto,{_initVideo:function(){var b=this;
b._videoDefaults={autoHideArrows:true,autoHideControlNav:false,autoHideBlocks:false,autoHideCaption:false,disableCSS3inFF:true,youTubeCode:'<iframe src="//www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="//player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'};
b.st.video=a.extend({},b._videoDefaults,b.st.video);
b.ev.on("rsBeforeSizeSet",function(){if(b._isVideoPlaying){setTimeout(function(){var d=b._currHolder;
d=d.hasClass("rsVideoContainer")?d:d.find(".rsVideoContainer");
if(b._videoFrameHolder){b._videoFrameHolder.css({width:d.width(),height:d.height()})
}},32)
}});
var c=a.browser.mozilla;
b.ev.on("rsAfterParseNode",function(k,i,j){var f=a(i),l,g;
if(j.videoURL){if(b.st.video.disableCSS3inFF&&!g&&c){g=true;
b._useCSS3Transitions=b._use3dTransform=false
}var h=a('<div class="rsVideoContainer"></div>'),d=a('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');
if(f.hasClass("rsImg")){j.content=h.append(f).append(d)
}else{j.content.find(".rsImg").wrap(h).after(d)
}}});
b.ev.on("rsAfterSlideChange",function(){b.stopVideo()
})
},toggleVideo:function(){var b=this;
if(!b._isVideoPlaying){return b.playVideo()
}else{return b.stopVideo()
}},playVideo:function(){var b=this;
if(!b._isVideoPlaying){var g=b.currSlide;
if(!g.videoURL){return false
}b._playingVideoSlide=g;
var f=b._currVideoContent=g.content;
var e=g.videoURL,h,d,c;
if(e.match(/youtu\.be/i)||e.match(/youtube\.com/i)){d=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
c=e.match(d);
if(c&&c[7].length==11){h=c[7]
}if(h!==undefined){b._videoFrameHolder=b.st.video.youTubeCode.replace("%id%",h)
}}else{if(e.match(/vimeo\.com/i)){d=/(www\.)?vimeo.com\/(\d+)($|\/)/;
c=e.match(d);
if(c){h=c[2]
}if(h!==undefined){b._videoFrameHolder=b.st.video.vimeoCode.replace("%id%",h)
}}}b.videoObj=a(b._videoFrameHolder);
b.ev.trigger("rsOnCreateVideoElement",[e]);
if(b.videoObj.length){b._videoFrameHolder=a('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>');
b._videoFrameHolder.find(".rsPreloader").after(b.videoObj);
f=f.hasClass("rsVideoContainer")?f:f.find(".rsVideoContainer");
b._videoFrameHolder.css({width:f.width(),height:f.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(i){b.stopVideo();
i.preventDefault();
i.stopPropagation();
return false
});
f.append(b._videoFrameHolder);
if(b.isIPAD){f.addClass("rsIOSVideo")
}b._toggleHiddenClass(false);
setTimeout(function(){b._videoFrameHolder.addClass("rsVideoActive")
},10);
b.ev.trigger("rsVideoPlay");
b._isVideoPlaying=true
}return true
}return false
},stopVideo:function(){var b=this;
if(b._isVideoPlaying){if(b.isIPAD){b.slider.find(".rsCloseVideoBtn").remove()
}b._toggleHiddenClass(true);
setTimeout(function(){b.ev.trigger("rsOnDestroyVideoElement",[b.videoObj]);
var d=b._videoFrameHolder.find("iframe");
if(d.length){try{d.attr("src","")
}catch(c){}}b._videoFrameHolder.remove();
b._videoFrameHolder=null
},16);
b.ev.trigger("rsVideoStop");
b._isVideoPlaying=false;
return true
}return false
},_toggleHiddenClass:function(c,d){var b=[],e=this,g=e.st.video;
if(g.autoHideArrows){if(e._arrowLeft){b.push(e._arrowLeft,e._arrowRight);
e._arrowsAutoHideLocked=!c
}if(e._fsBtn){b.push(e._fsBtn)
}}if(g.autoHideControlNav&&e._controlNav){b.push(e._controlNav)
}if(g.autoHideBlocks&&e._playingVideoSlide.animBlocks){b.push(e._playingVideoSlide.animBlocks)
}if(g.autoHideCaption&&e.globalCaption){b.push(e.globalCaption)
}e.slider[c?"removeClass":"addClass"]("rsVideoPlaying");
if(b.length){for(var f=0;
f<b.length;
f++){if(!c){b[f].addClass("rsHidden")
}else{b[f].removeClass("rsHidden")
}}}}});
a.rsModules.video=a.rsProto._initVideo
})(jQuery);
(function(a){a.extend(a.rsProto,{_initDeeplinking:function(){var j=this,h,i,g;
j._hashDefaults={enabled:false,change:false,prefix:""};
j.st.deeplinking=a.extend({},j._hashDefaults,j.st.deeplinking);
if(j.st.deeplinking.enabled){var d=j.st.deeplinking.change,e="#"+j.st.deeplinking.prefix,k=function(){var l=window.location.hash;
if(l){l=l.substring(e.length);
if(l){return l
}}return -1
};
var b=k();
if(b!==-1){var c=a(j.slider).find('.rsCaption[data-bsp-media-uuid="'+b+'"]');
if(c.length>0){var f=+c.attr("data-bsp-media-index");
j.st.startSlideId=f
}}if(d){a(window).on("hashchange.rs",function(m){if(!h){console.warn("TODO: I need to account for this case...");
var n=k();
if(n<0){return
}if(n>j.numSlides-1){n=j.numSlides-1
}var l=a(j.slider).find('.rsCaption[data-bsp-media-uuid="'+n+'"]');
if(l.length>0){j.goTo(n)
}}});
j.ev.on("rsBeforeAnimStart",function(){if(i){clearTimeout(i)
}if(g){clearTimeout(g)
}});
j.ev.on("rsAfterSlideChange",function(){if(i){clearTimeout(i)
}if(g){clearTimeout(g)
}g=setTimeout(function(){h=true;
var n="",m=j.currSlide.caption;
if(m){}var l="";
if(e&&n){l=e+n
}else{l=""
}window.location.hash=l;
i=setTimeout(function(){h=false;
i=null
},60)
},400)
})
}j.ev.on("rsBeforeDestroy",function(){g=null;
i=null;
if(d){a(window).off("hashchange.rs")
}})
}}});
a.rsModules.deeplinking=a.rsProto._initDeeplinking
})(jQuery);
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);
function a(j){j=j||location.href;
return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")
}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)
};
$.fn[c].delay=50;
g[c]=$.extend(g[c],{setup:function(){if(d){return false
}$(f.start)
},teardown:function(){if(d){return false
}$(f.stop)
}});
f=(function(){var j={},p,m=a(),k=function(q){return q
},l=k,o=k;
j.start=function(){p||n()
};
j.stop=function(){p&&clearTimeout(p);
p=b
};
function n(){var r=a(),q=o(m);
if(r!==m){l(m=r,q);
$(e).trigger(c)
}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q
}}p=setTimeout(n,$.fn[c].delay)
}$.browser.msie&&!d&&(function(){var q,r;
j.start=function(){if(!q){r=$.fn[c].src;
r=r&&r+a();
q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());
n()
}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;
h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title
}}catch(s){}}
}};
j.stop=k;
o=function(){return a(q.location.href)
};
l=function(v,s){var u=q.document,t=$.fn[c].domain;
if(v!==s){u.title=h.title;
u.open();
t&&u.write('<script>document.domain="'+t+'"<\/script>');
u.close();
q.location.hash=v
}}
})();
return j
})()
})(jQuery,this);
(function(a){a.extend(a.rsProto,{_initAnimatedBlocks:function(){var b=this,c;
b._blockDefaults={fadeEffect:true,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200};
b.st.block=a.extend({},b._blockDefaults,b.st.block);
b._blockAnimProps=[];
b._animatedBlockTimeouts=[];
b.ev.on("rsAfterInit",function(){d()
});
b.ev.on("rsBeforeParseNode",function(h,f,g){f=a(f);
g.animBlocks=f.find(".rsABlock").css("display","none");
if(!g.animBlocks.length){if(f.hasClass("rsABlock")){g.animBlocks=f.css("display","none")
}else{g.animBlocks=false
}}});
b.ev.on("rsAfterContentSet",function(g,h){var f=b.slides[b.currSlideId].id;
if(h.id===f){setTimeout(function(){d()
},b.st.fadeinLoadedSlide?300:0)
}});
b.ev.on("rsAfterSlideChange",function(){d()
});
function d(){var e=b.currSlide;
if(!b.currSlide||!b.currSlide.isLoaded){return
}if(b._slideWithBlocks!==e){if(b._animatedBlockTimeouts.length>0){for(c=0;
c<b._animatedBlockTimeouts.length;
c++){clearTimeout(b._animatedBlockTimeouts[c])
}b._animatedBlockTimeouts=[]
}if(b._blockAnimProps.length>0){var f;
for(c=0;
c<b._blockAnimProps.length;
c++){f=b._blockAnimProps[c];
if(f){if(!b._useCSS3Transitions){f.block.stop(true).css(f.css)
}else{f.block.css(b._vendorPref+b._TD,"0s");
f.block.css(f.css)
}b._slideWithBlocks=null;
e.animBlocksDisplayed=false
}}b._blockAnimProps=[]
}if(e.animBlocks){e.animBlocksDisplayed=true;
b._slideWithBlocks=e;
b._animateBlocks(e.animBlocks)
}}}},_updateAnimBlockProps:function(c,b){setTimeout(function(){c.css(b)
},6)
},_animateBlocks:function(f){var n=this,u,b,e,o;
var g,t,x,d,j,s,k,m,c,v,r,p,w,q,h,l;
n._animatedBlockTimeouts=[];
f.each(function(z){u=a(this);
b={};
e={};
o=null;
var D=u.attr("data-move-offset");
if(!D){D=n.st.block.moveOffset
}else{D=parseInt(D,10)
}if(D>0){h=u.data("move-effect");
if(h){h=h.toLowerCase();
if(h==="none"){h=false
}else{if(h!=="left"&&h!=="top"&&h!=="bottom"&&h!=="right"){h=n.st.block.moveEffect;
if(h==="none"){h=false
}}}}else{h=n.st.block.moveEffect
}if(h&&h!=="none"){var C;
if(h==="right"||h==="left"){C=true
}else{C=false
}var B,y;
l=false;
if(n._useCSS3Transitions){B=0;
w=n._xProp
}else{if(C){if(!isNaN(parseInt(u.css("right"),10))){w="right";
l=true
}else{w="left"
}}else{if(!isNaN(parseInt(u.css("bottom"),10))){w="bottom";
l=true
}else{w="top"
}}w="margin-"+w;
if(l){D=-D
}if(!n._useCSS3Transitions){B=u.data("rs-start-move-prop");
if(B===undefined){B=parseInt(u.css(w),10);
if(isNaN(B)){B=0
}u.data("rs-start-move-prop",B)
}}else{B=parseInt(u.css(w),10)
}}if(h==="top"||h==="left"){y=B-D
}else{y=B+D
}e[w]=n._getCSS3Prop(y,C);
b[w]=n._getCSS3Prop(B,C)
}}var i=u.attr("data-fade-effect");
if(!i){i=n.st.block.fadeEffect
}else{if(i.toLowerCase()==="none"||i.toLowerCase()==="false"){i=false
}}if(i){e.opacity=0;
b.opacity=1
}if(i||h){o={};
o.hasFade=Boolean(i);
if(Boolean(h)){o.moveProp=w;
o.hasMove=true
}o.speed=u.data("speed");
if(isNaN(o.speed)){o.speed=n.st.block.speed
}o.easing=u.data("easing");
if(!o.easing){o.easing=n.st.block.easing
}o.css3Easing=a.rsCSS3Easing[o.easing];
o.delay=u.data("delay");
if(isNaN(o.delay)){o.delay=n.st.block.delay*z
}}var A={};
if(n._useCSS3Transitions){A[(n._vendorPref+n._TD)]="0ms"
}A.moveProp=b.moveProp;
A.opacity=b.opacity;
A.display="none";
n._blockAnimProps.push({block:u,css:A});
n._updateAnimBlockProps(u,e);
n._animatedBlockTimeouts.push(setTimeout((function(G,F,H,E){return function(){G.css("display","block");
if(H){var I={};
if(!n._useCSS3Transitions){setTimeout(function(){G.animate(F,H.speed,H.easing)
},16)
}else{var J="";
if(H.hasMove){J+=H.moveProp
}if(H.hasFade){if(H.hasMove){J+=", "
}J+="opacity"
}I[(n._vendorPref+n._TP)]=J;
I[(n._vendorPref+n._TD)]=H.speed+"ms";
I[(n._vendorPref+n._TTF)]=H.css3Easing;
G.css(I);
setTimeout(function(){G.css(F)
},24)
}}delete n._animatedBlockTimeouts[E]
}
})(u,b,o,z),o.delay<=6?12:o.delay))
})
}});
a.rsModules.animatedBlocks=a.rsProto._initAnimatedBlocks
})(jQuery);
if(window.console===undefined){window.console={info:function(){},warn:function(){},log:function(){}}
}(function(){var a={models:{},components:{},modules:{instances:{}},mobile:{},registry:[],global:{sizes:{BIG_DESKTOP:"bigdesktop",DESKTOP:"desktop",TABLET:"tablet",MOBILE:"mobile"},current_size:"mobile",update_current_size:function(b){a.global.current_size=b
},browser:{isAndroid:/Android/i.test(navigator.userAgent)},events:{ON_CROSS_RESIZE_BREAKPOINT:"onCrossResizeBreakpoint",ON_GIGYA_READY:"onGigyaReady",ON_SHAREBAR_LOADED:"onSharebarLoaded",ON_COMMENTS_LOADED:"onCommentsLoaded",globalMenu:{CLOSE_ALL_MENUS:"globalMenu.closeAllMenus"}},storage:{langPref:{lang:"tccc.journey.langPreference.name",url:"tccc.journey.langPreference.url"},immersiveGallery:{referringUrl:"tccc.storage.immersiveGallery.referringUrl"}},has_web_storage:!!window.localStorage,gigya_available:false,gigya_api_key:null,captcha_api_key:null,sharebar_loaded:false,comments_loaded:false,disable_sharebar:false,retina_display:false,orientation:null,selectBoxItOptions:{autoWidth:false,dynamicPositioning:false,isMobile:function(){return false
}},get_date_format:function(){var c="MMM d, yyyy";
var b=$("body").attr("data-date-format");
if(typeof b!==typeof undefined&&b!==false){c=b
}return c
},is_big_desktop_size:function(b){return(b===a.global.sizes.BIG_DESKTOP)
},is_desktop_size:function(b){return(b===a.global.sizes.DESKTOP)
},is_tablet_size:function(b){return(b===a.global.sizes.TABLET)
},is_mobile_size:function(b){return(b===a.global.sizes.MOBILE)
},get_OptanonCookiePrefrence:function(){var g=false,f=false,h=false,c=false,b=false,e={};
if($.cookie("OptanonConsent")){var d=$.cookie("OptanonConsent").split("&");
$.each(d,function(l,m){var n=m.split("=");
var k=$.inArray("groups",n);
if(k===0){var i=n[1];
var j=i.split(",");
$.each(j,function(o,p){var q=p.split(":");
if(q[0]==1){if((q[1]==1)){g=true
}}if(q[0]==2){if((q[1]==1)){f=true
}}if(q[0]==3){if((q[1]==1)){h=true
}}if(q[0]==4){if((q[1]==1)){c=true
}}})
}});
if(g&&f&&h&&c){b=true
}e.strictlyNecessaryCookieActive=g;
e.performaceCookieActive=f;
e.functionalityCookieActive=h;
e.targetingCookieActive=c;
e.allCookiesAllowed=b;
console.log(e)
}return(e)
},update_images_for_size:function(d,b){var c;
if(b&&b.length){c=$(b)
}else{c=$("img[data-src]")
}$(c).each(function(){var g=d;
var j=$(this);
var f=j.data("overrideSize");
if(!j.hasClass("no-resize")){if(f&&f.length){switch(f){case"small":g=a.global.sizes.MOBILE;
break;
case"medium":g=a.global.sizes.TABLET;
break;
case"large":g=a.global.sizes.DESKTOP;
break
}}g=(g==="big_desktop")?"desktop":g;
g=(g==="bigdesktop")?"desktop":g;
if(j.data("src")!==undefined&&j.attr("src")!==j.data("src")[g]){j.attr("src",j.data("src")[g])
}var i=j.data("dimensions");
if(i&&i[g]){var k=i[g].split("_");
var h=k[0];
var e=k[1];
$(this).css("width",h+"px");
$(this).css("height",e+"px")
}}})
},update_titles_for_size:function(c,d){var b;
if(d&&d.length){b=$(d)
}else{b=$("*[data-title]")
}$(b).each(function(){var f=c,g=$(this),e=g.data("overrideSize");
if(e&&e.length){f=(e==="short")?a.global.sizes.MOBILE:a.global.sizes.DESKTOP
}f=(f==="big_desktop")?"desktop":f;
if(g.html()!==g.data("title")[f]){g.html(g.data("title")[f])
}g.addClass("titles_updated")
})
},update_breadcrumb_for_size:function(b){var e,c,d;
switch(b){case"tablet":e=70;
break;
default:e=100
}c=$("span.shorten-breadcrumb span");
if(c.text().length>=e){d=c.text().substring(0,e);
c.text(d+"...")
}},update_embedded_image_for_size:function(){$("div.embedded-image").each(function(){var d=$(this).find("img"),f=$(this),b=null,c=500,g=0,e=d.width();
if(e>0){f.css("width",e+"px")
}d.load(function(){f.css("width",$(this).width()+"px")
});
b=setInterval(function(){if(d.width()>0){f.css("width",d.width()+"px");
clearInterval(b)
}g+=1
},c,d)
})
},update_ui_for_size:function(b){if(!b){return
}a.global.update_current_size(b);
a.global.update_css_for_size(b);
a.global.update_images_for_size(b);
a.global.update_titles_for_size(b);
a.global.update_breadcrumb_for_size(b)
},update_css_for_size:function(b){if(this.is_big_desktop_size(b)){$("html").addClass("big_desktop").removeClass("desktop").removeClass("tablet").removeClass("mobile")
}else{if(this.is_desktop_size(b)){$("html").addClass("desktop").removeClass("big_desktop").removeClass("tablet").removeClass("mobile")
}else{if(this.is_tablet_size(b)){$("html").addClass("tablet").removeClass("big_desktop").removeClass("desktop").removeClass("mobile")
}else{if(this.is_mobile_size(b)){$("html").addClass("mobile").removeClass("big_desktop").removeClass("desktop").removeClass("tablet")
}}}}},fireRefreshEventOnWindow:function(){var b=document.createEvent("HTMLEvents");
b.initEvent("resize",true,false);
window.dispatchEvent(b);
return true
},init:function(){var c=$("html").attr("lang").split("-"),b=a.global,d;
b.lang=c[0];
b.locale=c[1];
b.lang_locale=c[0]+"_"+c[1];
$(b).bind(b.events.ON_CROSS_RESIZE_BREAKPOINT,function(e,f){b.update_ui_for_size(f.current_size)
});
$(b).bind(b.events.ON_COMMENTS_LOADED,function(){b.comments_loaded=true
});
b.retina_display=(window.devicePixelRatio&&window.devicePixelRatio>=2)?true:false;
d=$(".auto-truncate");
if(d.length>0){a.util.mod_truncate(d)
}}},util:{date:{isoStringToDate:function(d){var c=d.split(/\D/);
return new Date(Date.UTC(c[0],--c[1],c[2],c[3]||0,c[4]||0,c[5]||0,c[6]||0))
}},humanize_number:function(e,f){f=Math.pow(10,f);
var b=["k","m","b","t"];
for(var d=b.length-1;
d>=0;
d--){var c=Math.pow(10,(d+1)*3);
if(c<=e){e=Math.round(e*f/c)/f;
e+=b[d];
break
}}return e
},pretty_number:function(c){var b=c.toString().split(".");
return b[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+(b[1]?"."+b[1]:"")
},inViewport:function(b){var c=b.getBoundingClientRect();
return(c.top>=0&&c.left>=0&&c.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&c.right<=(window.innerWidth||document.documentElement.clientWidth))
},truncate_text:function(b,c,f,h){var e=$(b),g={maxLines:c,truncateString:"&#8230;"},d=$.extend(g,h);
if(e.length){if(f&&d){e.truncate(d);
e.truncate("update")
}else{e.truncate(d)
}}},mod_truncate:function(d){var b=this;
function c(){b.truncate_text(d.find(".truncate-1"),1,false);
b.truncate_text(d.find(".truncate-2"),2,false);
b.truncate_text(d.find(".truncate-3"),3,false);
b.truncate_text(d.find(".truncate-5"),5,false)
}$(a.global).bind(a.global.events.ON_CROSS_RESIZE_BREAKPOINT,function(){c()
});
c()
},querystring:{deserialize:function(f){var c=window.location.search.substring(1);
var d=c.split("&");
for(var b=0;
b<d.length;
b++){var e=d[b].split("=");
if(e[0]===f){return e[1]
}}return null
}},hash:{deserialize:function(h){var f=window.location.hash,c=f.indexOf("?")+1,d=f.substring(c),e=d.split("&");
for(var b=0;
b<e.length;
b++){var g=e[b].split("=");
if(g[0]===h){return g[1]
}}return null
}},parse_url:function(c){var b=document.createElement("a");
b.href=c;
b.style.display="none";
document.body.appendChild(b);
return{protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search.substring(1),hash:b.hash.substring(1)}
},AWSSearch:function(f,d,m,b){var j=$("body").data("awscloudendpoint"),k=$("body").data("awsregion"),l=$("body").data("awsversion"),e=$("body").data("locale"),g=e.split("_")[1].toUpperCase(),i=e.split("_")[0].toUpperCase(),h;
var c={endpoint:j,accessKeyId:"",awsRegion:k,language:g,country:i,secretAccessKey:"",sessionToken:"",credentials:"",credentialProvider:"",region:"us-east-1",maxRetries:5,maxRedirects:5,sslEnabled:false,paramValidation:true,computeChecksums:false,convertResponseTypes:false,correctClockSkew:false,s3ForcePathStyle:true,s3BucketEndpoint:true,s3DisableBodySigning:true,retryDelayOptions:0,apiVersion:l,apiVersions:"2013-01-01",logger:"",systemClockOffset:0,signatureVersion:"",signatureCache:true};
if(!(b&&Object.keys(b).length===0)){$.extend(c,b)
}csd=new d.CloudSearchDomain(c);
csd.search(f,function(n,o){if(n){console.log("in error "+n.stack)
}else{console.log(o);
m(o)
}})
}},initComponent:function(b,c,e){var d=$(b);
if(d.length){if(c.length){require(c,function(){e.apply(this,[d,a].concat(Array.prototype.slice.call(arguments)))
})
}else{e(d,a)
}}}};
a.global.init();
this.tccc=a
})();
define("tccc",[],function(){return tccc
});
/*!
 * intention.js Library v0.9.9
 * http://intentionjs.com/
 *
 * Copyright 2011, 2013 Dowjones and other contributors
 * Released under the MIT license
 *
 */
(function(a,b){if(typeof define==="function"&&define.amd){define("intention",[],b)
}else{a.Intention=b()
}}(this,function(){var b=function(d){var c=_.extend(this,d,{_listeners:{},contexts:[],elms:$(),axes:{},priority:[]});
return c
};
b.prototype={responsive:function a(j,d){var c="abcdefghijklmnopqrstuvwxyz0123456789",h="",e;
for(e=0;
e<5;
e++){h+=c[Math.floor(Math.random()*c.length)]
}var g={matcher:function(k,i){return k===i.name
},measure:_.identity,ID:h};
if(_.isObject(d)===false){d={}
}if((_.isArray(j))&&(_.isArray(j[0].contexts))){_.each(j,function(i){a.apply(this,i)
},this);
return
}if((_.isArray(j)===false)&&_.isObject(j)){d=j
}else{d.contexts=j
}d=_.extend({},g,d);
this.on("_"+d.ID+":",_.bind(function(i){this.axes=this._contextualize(d.ID,i.context,this.axes);
this._respond(this.axes,this.elms)
},this));
var f={ID:d.ID,current:null,contexts:d.contexts,respond:_.bind(this._responder(d.ID,d.contexts,d.matcher,d.measure),this)};
this.axes[d.ID]=f;
this.axes.__keys__=this.priority;
this.priority.unshift(d.ID);
return f
},elements:function(c){if(!c){c=document
}$("[data-intent],[intent],[data-in],[in]",c).each(_.bind(function(d,e){this.add($(e))
},this));
return this
},add:function(e,d){var c;
if(!d){d={}
}e.each(_.bind(function(f,h){var g=false;
this.elms.each(function(k,j){if(h===j){g=true;
return false
}return true
});
if(g===false){c=this._fillSpec(_.extend(d,this._attrsToSpec(h.attributes,this.axes)));
this._makeChanges($(h),c,this.axes);
this.elms.push({elm:h,spec:c})
}},this));
return this
},remove:function(d){var c=this.elms;
d.each(function(e,f){c.each(function(g,h){if(f===h.elm){c.splice(g,1);
return false
}return true
})
});
return this
},is:function(c){var d=this.axes;
return _.some(d.__keys__,function(e){return c===d[e].current
})
},current:function(c){if(this.axes.hasOwnProperty(c)){return this.axes[c].current
}else{return false
}},on:function(e,f){var d=e.split(" "),c=0;
for(c;
c<d.length;
c++){if(this._listeners[d[c]]===undefined){this._listeners[d[c]]=[]
}this._listeners[d[c]].push(f)
}return this
},off:function(e,f){if(_.isArray(this._listeners[e])){var d=this._listeners[e],c;
for(c=0;
d.length;
c++){if(d[c]===f){d.splice(c,1);
break
}}}return this
},_responder:function(d,g,f,e){var c;
return function(){var h=e.apply(this,arguments);
_.every(g,function(i){if(f(h,i)){if((c===undefined)||(i.name!==c.name)){c=i;
this._emitter({_type:"_"+d+":",context:c.name},c,this)._emitter({_type:d+":",context:c.name},c,this)._emitter(_.extend({},{_type:d+":"+c.name},c),c,this)._emitter(_.extend({},{_type:c.name},c),c,this);
return false
}return false
}return true
},this);
return this
}
},_emitter:function(e){if(typeof e==="string"){e={_type:e}
}if(!e.target){e.target=this
}if(!e._type){throw new Error(e._type+" is not a supported event.")
}if(_.isArray(this._listeners[e._type])){var d=this._listeners[e._type],c;
for(c=0;
c<d.length;
c++){d[c].apply(this,arguments)
}}return this
},_fillSpec:function(c){var d=function(f){_.each(c,function(h,g){_.each(h,function(i,j){f(i,j,g)
})
})
},e={};
d(function(f){if(_.isObject(f)){_.each(f,function(h,g){e[g]=""
})
}});
d(function(g,f,h){if(_.isObject(g)){c[h][f]=_.extend({},e,g)
}});
return c
},_assocAxis:function(c,e){var d=false;
_.every(e.__keys__,function(f){if(d===false){_.every(e[f].contexts,function(g){if(g.name===c){d=f;
return false
}return true
});
return true
}else{return false
}});
return d
},_makeSpec:function(h,d,g,i,e){var f,c;
if(e[h]!==undefined){f=e[h];
if(f[d]===undefined){f[d]={}
}}else{f={};
f[d]={};
e[h]=f
}f[d][g]=i;
return e
},_attrsToSpec:function(e,g){var c={},f=new RegExp("^(data-)?(in|intent)-(([a-zA-Z0-9][a-zA-Z0-9]*:)?([a-zA-Z0-9]*))-([A-Za-z:-]+)"),d=new RegExp("^(data-)?(in|intent)-([a-zA-Z0-9][_a-zA-Z0-9]*):$");
_.each(e,function(i){var h=i.name.match(f),j;
if(h!==null){h=h.slice(-3);
j=h[0];
if((h[0]===undefined)||(h[0]==="")){h[0]=this._assocAxis(h[1],g);
if(h[0]===false){return
}}else{h[0]=h[0].replace(/:$/,"")
}h.push(i.value);
h.push(c);
c=this._makeSpec.apply(this,h)
}else{if(d.test(i.name)){j=i.name.match(d)[3];
_.each(g[j].contexts,function(k){this._makeSpec(j,k.name,"class",k.name+" "+i.value,c)
},this)
}}},this);
return c
},_contextSpec:function(c,d){if(d.hasOwnProperty(c.axis)&&d[c.axis].hasOwnProperty(c.ctx)){return d[c.axis][c.ctx]
}return{}
},_resolveSpecs:function(e,f){var d={},c=["append","prepend","before","after"];
_.each(e,function(g){_.each(this._contextSpec(g,f),function(i,h){if(h==="class"){if(!d[h]){d[h]=[]
}d[h]=_.union(d[h],i.split(" "))
}else{if(((d.move===undefined)||(d.move.value===""))&&($.inArray(h,c)!==-1)){d.move={value:i,placement:h}
}else{if((d[h]===undefined)||(d[h]==="")){d[h]=i
}}}},this)
},this);
return d
},_currentContexts:function(c){var d=[];
_.each(c.__keys__,function(e){if(c[e].current!==null){d.push({ctx:c[e].current,axis:e});
return
}});
return d
},_removeClasses:function(e,d){var c=[];
_.each(d.__keys__,function(f){var g=d[f];
_.each(g.contexts,function(h){if(h.name===g.current){return
}var j=this._contextSpec({axis:g.ID,ctx:h.name},e),i;
if(j!==undefined){if(j["class"]!==undefined){i=j["class"].split(" ");
if(i!==undefined){c=_.union(c,i)
}}}},this)
},this);
return c
},_contextConfig:function(d,c){return this._resolveSpecs(this._currentContexts(c),d,c)
},_makeChanges:function(f,e,c){if(_.isEmpty(c)===false){var d=this._contextConfig(e,c);
_.each(d,function(i,h){if(h==="move"){if((e.__placement__!==i.placement)||(e.__move__!==i.value)){$(i.value)[i.placement](f);
e.__placement__=i.placement;
e.__move__=i.value
}}else{if(h==="class"){var g=f.attr("class")||"";
g=_.union(i,_.difference(g.split(" "),this._removeClasses(e,c)));
f.attr("class",g.join(" "))
}else{f.attr(h,i)
}}},this)
}return f
},_respond:function(d,c){c.each(_.bind(function(f,g){var e=$(g.elm);
this._makeChanges(e,g.spec,d);
e.trigger("intent",this)
},this))
},_contextualize:function(d,c,e){e[d].current=c;
return e
},_axis_test_pattern:new RegExp("^_[a-zA-Z0-9]"),_axis_match_pattern:new RegExp("^_([a-zA-Z0-9][_a-zA-Z0-9]*)"),_trim_pattern:new RegExp("^s+|s+$","g")};
return b
}));
require(["intention"],function(d){var c=new d(),a=!$("html").hasClass("not-responsive"),b;
b=c.responsive({ID:"width",contexts:[{name:tccc.global.sizes.BIG_DESKTOP,min:1280},{name:tccc.global.sizes.DESKTOP,min:a?960:0},{name:tccc.global.sizes.TABLET,min:a?481:0},{name:tccc.global.sizes.MOBILE,min:0}],matcher:function(f,e){if(typeof f==="string"){return f===e.name
}return f>=e.min
},measure:function(e){if(typeof e==="string"){return e
}return $(window).width()
}});
c.on("width:",function(f){var g=tccc.global.sizes,e=g.current_size,h=f.context;
g.current_size=h;
$(tccc.global).trigger(tccc.global.events.ON_CROSS_RESIZE_BREAKPOINT,{previous_size:e,current_size:h})
});
$(window).on("resize",b.respond);
b.respond();
window.width_context=b;
$(function(){c.elements(document)
})
});
require.config({baseUrl:"/etc/designs/journey/libs/js",waitSeconds:0,paths:{add2Home:"add2Home",aes:"aes",binaryAjax:"binaryAjax.min",bootstrapTypeahead:"bootstrap-typeahead.1.2.2.min",brightcovePlayer:"brightcoveVideoPlayer.min",commentingTemplate:"comments.min",dialogPolyfill:"dialog-polyfill.min",EXIF:"exif.min",featherlight:"featherlight.min",fineuploader:"fine-uploader.min",glDatePicker:"glDatePicker.min",handlebars:"handlebars.min",imagesLoaded:"jquery.imagesloaded.min",iScroll:"iscroll.4.2.5.min",isotope:"jquery.isotope.min",jqJSONP:"jquery.jsonp-2.4.0.min",jqScrollTo:"jquery.scrollTo.min",jqSmoothScroll:"jquery.smooth-scroll.min",jqUI:"jquery-ui.custom.min",kakao:"kakao.min",lodash:"lodash.min",megapixImage:"megapixImage.min",mobileJquery:"jquery.mobile-1.4.5.min",moment:"moment-with-langs.min",parsley:"parsley.min",select2:"select2.min",selectBoxIt:"jquery.selectBoxIt.min",sparseSet:"sparseSet.min"},shim:{selectBoxIt:{deps:["jqUI"],exports:"selectBoxIt"},isotope:{exports:"isotope"},iScroll:{exports:"iScroll"},handlebars:{exports:"Handlebars"},bootstrapTypeahead:{exports:"typeahead"}}});
String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()
})
};
if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(d,e){if(this==null){throw new TypeError('"this" is null or not defined')
}var f=Object(this);
var a=f.length>>>0;
if(a===0){return false
}var g=e|0;
var c=Math.max(g>=0?g:a-Math.abs(g),0);
function b(h,i){return h===i||(typeof h==="number"&&typeof i==="number"&&isNaN(h)&&isNaN(i))
}while(c<a){if(b(f[c],d)){return true
}c++
}return false
}})
}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(b){if(this==null){throw new TypeError('"this" is null or not defined')
}var f=Object(this);
var a=f.length>>>0;
if(typeof b!=="function"){throw new TypeError("predicate must be a function")
}var c=arguments[1];
var d=0;
while(d<a){var e=f[d];
if(b.call(c,e,d,f)){return e
}d++
}return undefined
},configurable:true,writable:true})
}Number.prototype.tcccPad=function(a){var b=String(this);
while(b.length<(a||2)){b="0"+b
}return b
};
$(document).ready(function(){Globalize.culture(tccc.global.lang+"-"+tccc.global.locale);
$('a[href^="/immersive-gallery/"]').each(function(){$(this).click(function(){try{localStorage[tccc.global.storage.immersiveGallery.referringUrl]=window.location;
return true
}catch(c){}})
});
var b=$("html");
require(["add2Home"],function(){var c=addToHomescreen({privateModeOverride:false,maxDisplayCount:4,fontSize:14,detectHomescreen:true})
});
var a=$("input[type=text][placeholder], textarea[placeholder]");
if(a.length&&!$.mobile){a.placeholder()
}$(document).trigger("tccc:slow");
tccc.initComponent(".headline-section",[],function(d,c){$(c.global).bind(c.global.events.ON_CROSS_RESIZE_BREAKPOINT,function(){if(c.global.sizes.current_size===c.global.sizes.MOBILE){c.util.truncate_text(".headline-section",1)
}})
});
if(typeof Handlebars!=="undefined"){Handlebars.registerHelper("ifCond",function(f,c,e,d){switch(c){case"==":return(f==e)?d.fn(this):d.inverse(this);
case"===":return(f===e)?d.fn(this):d.inverse(this);
case"!=":return(f!=e)?d.fn(this):d.inverse(this);
case"!==":return(f!==e)?d.fn(this):d.inverse(this);
case"<":return(f<e)?d.fn(this):d.inverse(this);
case"<=":return(f<=e)?d.fn(this):d.inverse(this);
case">":return(f>e)?d.fn(this):d.inverse(this);
case">=":return(f>=e)?d.fn(this):d.inverse(this);
case"&&":return(f&&e)?d.fn(this):d.inverse(this);
case"||":return(f||e)?d.fn(this):d.inverse(this);
default:return d.inverse(this)
}})
}});
$(document).trigger("tccc:dependencies").trigger("tccc:fast");
if((/iphone|ipad|ipod/gi).test(navigator.appVersion)){$("html").addClass("iOS");
if($(".TopNavigation").length&&$(".Nav").length&&!$("html").hasClass("mobile")){var navHeight=$("#global-hat").height();
$(".wrapper").css("margin-top",navHeight)
}}if(typeof CQ!=="undefined"){$("html").addClass("CQ");
CQ.WCM.on("editablesready",function(){var q=$();
var j,d,a;
var e,o,m;
var f,n,i;
function h(s,u,t){var r=$();
if(t.length){r=$("<div class='cq-author-rail "+s+"'>"+u+"</div>").insertAfter(t.last())
}return r
}function l(s,v){if(s.length&&v.length){var u=v.position().left;
s.css("left",u+"px");
var t=v.position().top;
var r=true;
while(r){r=false;
q.each(function(z,y){var A=$(y);
if(!A.hasClass("cq-author-rail")){var w=A.position().top;
var x=A.position().left;
if(x===u&&w===t){t=t-27;
r=true
}}})
}s.css("top",t+"px")
}}function p(r){$(".cq-author-rail, .cq-editbar, .cq-editrollover-insert-container").each(function(u,t){var w=$(t);
var s=w.css("position");
if(s==="absolute"){var x=w.position().top;
if(x>0){r=r.add(w)
}}});
return r
}function g(r){var s=0;
var t;
r.each(function(w,u){var x=$(u);
if(x.position().top>s){t=x;
s=x.position().top
}});
return t
}function k(){q=p($());
q.sort(function(A,z){if($(A).position().top>$(z).position().top){return 1
}else{if($(A).position().top<$(z).position().top){return -1
}else{return 0
}}});
var r=8005;
q.each(function(A,z){var B=$(z);
B.css("z-index",r);
r=r+1
});
var s=0;
var u="Bottom Rail";
var t="Right Rail";
var y="Floating Rail";
var w,v,x;
q.each(function(A,z){var B=$(z);
if(B.hasClass("cq-element-bottomRail")){s=s+1;
w=B.position().left
}else{if(B.hasClass("cq-element-leftRail")||B.hasClass("cq-element-moreRail")){s=s+1;
v=B.position().left
}else{if(B.hasClass("cq-element-rightRail")){s=s+1;
x=B.position().left
}}}if(s>0&&B.hasClass("cq-editrollover-insert-container")){if(B.position().left===w){B.find("span").text(u)
}else{if(B.position().left===x){B.find("span").text(t)
}else{if(B.position().left===v){B.find("span").text(y)
}}}s=s-1
}})
}function b(t){var s=0,r=0;
t.each(function(w,u){var x=$(u);
r=x.height()+x.position().top;
if(r>s){s=r
}});
return s
}function c(){var t=9999;
var y=t,x=t,s=0,u=0,r=0,v=0;
if(a.length){y=m.position().top
}if(d.length){if(o.position().top<y){y=o.position().top
}}if(j.length){if(e.position().top<y){y=e.position().top
}}if(a.length||j.length){if(a.length){x=m.position().left
}if(j.length){if(e.position().left<x){x=e.position().left
}}}else{if(d.length){x=o.position().left
}}if(x<t){x=x-8
}s=b(q)+20;
if(a.length){u=m.position().left+m.outerWidth()
}if(j.length){if(e.position().left+f.outerWidth()>u){u=e.position().left+f.outerWidth()
}}if(d.length){if(o.position().left+n.outerWidth()>u){u=o.position().left+n.outerWidth()
}}r=s-y;
v=u-x;
var w=$(".CQBorderedBox");
if(y<t){w.css("top",y+"px")
}if(x<t){w.css("left",x+"px")
}if(r>0){w.css("height",r+"px")
}if(v>0){w.css("width",v+"px")
}}setTimeout(function(){q=p(q);
j=$("div[class*='bottomRail'].cq-editbar");
if(j.length){f=g(j);
e=h("bottomRailWrapper","Bottom Rail",f);
l(e,f)
}d=$("div[class*='rightRail'].cq-editbar");
if(d.length){n=g(d);
o=h("rightRailWrapper","Right Rail",n);
l(o,n)
}a=$("div[class*='moreRail'].cq-editbar");
if(a.length){i=g(a);
m=h("leftRailWrapper","Floating Rail",i);
l(m,i)
}if($("html").attr("data-show-bordered-box")==="true"){var x=$();
x=$("<div class='CQBorderedBox'></div>").insertAfter("#CQ")
}setInterval(function(){if(j.length){l(e,f)
}if(d.length){l(o,n)
}if(a.length){l(m,i)
}if($("html").attr("data-show-bordered-box")==="true"){c()
}k()
},2000);
var s=$("body").attr("data-lambda-endpoint"),v=$("body").attr("data-vanity-url"),y=$("body").attr("data-vanity-paths"),r=$("body").attr("data-locale"),u=$("body").attr("data-author-mode"),t=$("body").attr("data-current-page-path"),w="";
if(y){modifiedVanityPathsArray=JSON.parse(y).customVanities;
w=modifiedVanityPathsArray.join(", ")
}if(u){$.ajax({url:s,type:"GET",data:{vanityUrl:v,vanityPaths:w,locale:r,currentPagePath:t},dataType:"json",success:function(D,F,C){var E=D.list,B=$("<ul>");
if(E.length>0){$(".authorWarning").show()
}for(var A=0,z=E.length;
A<z;
++A){B.append("<li><a class='author-link' target='_blank' href='"+E[A].path+".html'>"+E[A].path+"</a></li>")
}$(".vanityPathsList").append(B)
},error:function(z,B,A){}})
}},3000)
})
};